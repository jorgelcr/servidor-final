"use strict";(self.webpackChunkevidencia=self.webpackChunkevidencia||[]).push([[233],{9233:(Ho,U,m)=>{m.r(U),m.d(U,{UsuarioAdministradorModule:()=>zo});var u=m(9808),f=m(4100),t=m(5e3),O=m(8462);let J=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-menu"]],decls:1,vars:0,template:function(o,e){1&o&&t._UZ(0,"app-menu-usuarionormal")},directives:[O.b],styles:[""]}),i})(),Y=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],decls:10,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-6","text-center"],[1,"fs-1","text-dark"],[1,"fs-3","text-dark"],["src","./assets/img/Escudo_UCM.png","alt","ucm",1,"h-75","w-75"],[1,"col-lg-6","col-md-6","col-sm-6","mt-5"],["src","./assets/img/ucm-logo1.jpeg","alt","ucm",1,"img-fluid","mt-5"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),t._uU(4,"BIENVENIDO"),t.qZA(),t.TgZ(5,"h2",4),t._uU(6,"Sistema Evidencias"),t.qZA(),t._UZ(7,"img",5),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"img",7),t.qZA()()())},styles:[""]}),i})();var s=m(3075),l=m(8966),S=m(5226),c=m.n(S),F=m(7579),g=m(8505),h=m(4004),B=m(2340),P=m(520);let _=(()=>{class i{constructor(o){this.http=o,this.urlBackend=B.N.urlBackend,this._refresh$=new F.x}get refresh$(){return this._refresh$}guardarUnidad(o){return this.http.post(`${this.urlBackend}/unidad`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenerUnidad(){return this.http.get(`${this.urlBackend}/unidad`)}borrarUnidad(o){return this.http.delete(`${this.urlBackend}/unidad/`+o)}obtenerUnidadId(o){return this.http.get(`${this.urlBackend}/unidad/${o}`)}actualizarUnidad(o,e){return this.http.put(`${this.urlBackend}/unidad/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscarUnidad(o){return this.http.get(`${this.urlBackend}/unidad/${o}`).pipe((0,h.U)(r=>r.resultado))}guardarCriterio(o){return this.http.post(`${this.urlBackend}/criterio`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenerCriterio(){return this.http.get(`${this.urlBackend}/criterio`)}borrarCriterio(o){return this.http.delete(`${this.urlBackend}/criterio/`+o)}obtenerCriterioId(o){return this.http.get(`${this.urlBackend}/criterio/${o}`)}actualizarCriterio(o,e){return this.http.put(`${this.urlBackend}/criterio/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscarCriterio(o){return this.http.get(`${this.urlBackend}/criterio/${o}`).pipe((0,h.U)(r=>r.resultados))}guardarProcesos(o){return this.http.post(`${this.urlBackend}/proceso`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenerProcesos(){return this.http.get(`${this.urlBackend}/proceso`)}borrarProcesos(o){return this.http.delete(`${this.urlBackend}/proceso/`+o)}obtenerProcesosId(o){return this.http.get(`${this.urlBackend}/proceso/${o}`)}actualizarProcesos(o,e){return this.http.put(`${this.urlBackend}/proceso/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscarProcesos(o){return this.http.get(`${this.urlBackend}/proceso/${o}`).pipe((0,h.U)(r=>r.resultado))}guardartiposRegistros(o){return this.http.post(`${this.urlBackend}/tiporegistro`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenertiposRegistros(){return this.http.get(`${this.urlBackend}/tiporegistro`)}borrartiposRegistros(o){return this.http.delete(`${this.urlBackend}/tiporegistro/`+o)}obtenertiposRegistrosId(o){return this.http.get(`${this.urlBackend}/tiporegistro/${o}`)}actualizartiposRegistros(o,e){return this.http.put(`${this.urlBackend}/tiporegistro/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscartiposRegistros(o){return this.http.get(`${this.urlBackend}/tiporegistro/${o}`).pipe((0,h.U)(r=>r.resultado))}guardarAmbitoAcademico(o){return this.http.post(`${this.urlBackend}/ambitoacademico`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenerAmbitoAcademico(){return this.http.get(`${this.urlBackend}/ambitoacademico`)}borrarAmbitoAcademico(o){return this.http.delete(`${this.urlBackend}/ambitoacademico/`+o)}obtenerAmbitoAcademicoId(o){return this.http.get(`${this.urlBackend}/ambitoacademico/${o}`)}actualizarAmbitoAcademico(o,e){return this.http.put(`${this.urlBackend}/ambitoacademico/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscarAmbitoAcademico(o){return this.http.get(`${this.urlBackend}/ambitoacademico/${o}`).pipe((0,h.U)(r=>r.resultado))}guardarUsuario(o){return this.http.post(`${this.urlBackend}/usuario`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenerUsuario(){return this.http.get(`${this.urlBackend}/usuario`)}borrarUsuario(o){return this.http.delete(`${this.urlBackend}/usuario/`+o)}obtenerUsuarioId(o){return this.http.get(`${this.urlBackend}/usuario/${o}`)}actualizarUsuario(o,e){return this.http.put(`${this.urlBackend}/usuario/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscarUsuario(o){return this.http.get(`${this.urlBackend}/usuario/${o}`).pipe((0,h.U)(r=>r.resultado))}obtenerUnidadUsuario(){return this.http.get(`${this.urlBackend}/usuario/unidad/usuario`)}obtenerRolUsuario(){return this.http.get(`${this.urlBackend}/usuario/rol/rol`)}guardarDebilidad(o){return this.http.post(`${this.urlBackend}/debilidad`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenerDebilidad(){return this.http.get(`${this.urlBackend}/debilidad`)}borrarDebilidad(o){return this.http.delete(`${this.urlBackend}/debilidad/`+o)}obtenerDebilidadId(o){return this.http.get(`${this.urlBackend}/debilidad/${o}`)}actualizarDebilidad(o,e){return this.http.put(`${this.urlBackend}/debilidad/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscarDebilidad(o){return this.http.get(`${this.urlBackend}/debilidad/${o}`).pipe((0,h.U)(r=>r.resultado))}obtenerUnidadDebilidad(){return this.http.get(`${this.urlBackend}/debilidad/unidad/unidad`)}obtenerCriterioDebilidad(){return this.http.get(`${this.urlBackend}/debilidad/criterio/criterio`)}guardarAmbitoGeografico(o){return this.http.post(`${this.urlBackend}/ambitogeografico`,o).pipe((0,g.b)(()=>{this._refresh$.next()}))}obtenerAmbitoGeografico(){return this.http.get(`${this.urlBackend}/ambitogeografico`)}borrarAmbitoGeografico(o){return this.http.delete(`${this.urlBackend}/ambitogeografico/`+o)}obtenerAmbitoGeograficoId(o){return this.http.get(`${this.urlBackend}/ambitogeografico/${o}`)}actualizarAmbitoGeografico(o,e){return this.http.put(`${this.urlBackend}/ambitogeografico/${o}`,e).pipe((0,g.b)(()=>{this._refresh$.next()}))}buscarAmbitoGeografico(o){return this.http.get(`${this.urlBackend}/ambitogeografico/${o}`).pipe((0,h.U)(r=>r.resultado))}}return i.\u0275fac=function(o){return new(o||i)(t.LFG(P.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var b=m(924);let $=(()=>{class i{constructor(){this.arregloObject={}}uperCase(o,e){this.arregloObject={rut:o.get(`${e}`).value.toLowerCase(),nombres_usuario:o.get(`${e}`).value.toUpperCase(),apellidos_usuario:o.get(`${e}`).value.toUpperCase(),correo_usuario:o.get(`${e}`).value.toUpperCase(),contrasena:o.get(`${e}`).value.toUpperCase(),estado:o.get(`${e}`).value,fk_id_unidad:o.get(`${e}`).value,fk_id_rol:o.get(`${e}`).value},console.log(this.arregloObject,"sss 3ffffffffffffffffffff")}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var A=m(7423);const Q=["termino"];function G(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"titlecase"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"titlecase"),t.qZA(),t.TgZ(15,"td"),t._uU(16),t.ALo(17,"titlecase"),t.qZA(),t.TgZ(18,"td")(19,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(20,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarUsuario(n.rut)}),t.qZA()()()}if(2&i){const o=a.$implicit;t.xp6(2),t.Oqu(o.rut),t.xp6(2),t.Oqu(t.lcZ(5,6,o.nombres_usuario)),t.xp6(3),t.Oqu(t.lcZ(8,8,o.apellidos_usuario)),t.xp6(3),t.Oqu(t.lcZ(11,10,o.correo_usuario)),t.xp6(3),t.Oqu(t.lcZ(14,12,o.nombre_unidad)),t.xp6(3),t.Oqu(t.lcZ(17,14,o.nombre_rol))}}function R(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Unidad no encontrada"),t.qZA())}const L=["termino2"];function j(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," RUN invalido. Recuerda ingresar tu RUN completo, con digito verificador despu\xe9s del guion."),t.qZA())}function z(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," Ingrese Nombres"),t.qZA())}function H(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," Ingrese Apellidos"),t.qZA())}function V(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," Elija alguna Unidad"),t.qZA())}function W(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," Elija alguna Unidad"),t.qZA())}function X(i,a){if(1&i&&(t.TgZ(0,"option",25),t.ALo(1,"number"),t._uU(2),t.qZA()),2&i){const o=a.$implicit;t.Q6J("value",t.lcZ(1,2,o.id_unidad)),t.xp6(2),t.Oqu(o.nombre_unidad)}}function K(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," Elija alguna Unidad"),t.qZA())}function tt(i,a){if(1&i&&(t.TgZ(0,"option",25),t.ALo(1,"number"),t._uU(2),t.qZA()),2&i){const o=a.$implicit;t.Q6J("value",t.lcZ(1,2,o.id_rol)),t.xp6(2),t.Oqu(o.nombre_rol)}}function ot(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," Elija algun Rol"),t.qZA())}function et(i,a){1&i&&(t.TgZ(0,"option",25),t._uU(1,"Activo"),t.qZA()),2&i&&t.Q6J("value",!0)}function it(i,a){1&i&&(t.TgZ(0,"span",24),t._uU(1," Elija alguna Unidad"),t.qZA())}function rt(i,a){if(1&i&&(t.TgZ(0,"div",26)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",27),t.YNc(4,et,2,1,"option",28),t.TgZ(5,"option",25),t._uU(6,"Inactivo"),t.qZA()(),t.YNc(7,it,2,0,"span",5),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Q6J("ngIf",!0===o.estado),t.xp6(1),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",o.campoNoEsValido("estado"))}}function at(i,a){1&i&&(t.TgZ(0,"div")(1,"button",29),t._uU(2,"Guardar"),t.qZA()())}function st(i,a){1&i&&(t.TgZ(0,"div")(1,"button",30),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const q=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let nt=(()=>{class i{constructor(o,e){this.dialog=o,this.AdministradorService=e,this.listaUsuarios=[],this.estadoBusqueda=!0,this.filterPost=""}ngOnInit(){this.obtenerUsuario(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerUsuario())}openDialog(o){this.dialog.open(dt,{disableClose:!0,height:"600px",width:"700px",data:{id_usuarios:null==o?void 0:o.id_usuarios,rut:null==o?void 0:o.rut,nombres_usuario:null==o?void 0:o.nombres_usuario,apellidos_usuario:null==o?void 0:o.apellidos_usuario,correo_usuario:null==o?void 0:o.correo_usuario,contrasena:null==o?void 0:o.contrasena,estado:null==o?void 0:o.estado,fk_id_unidad:null==o?void 0:o.fk_id_unidad,fk_id_rol:null==o?void 0:o.fk_id_rol}}),console.log("La clave es: ",null==o?void 0:o.id_usuarios)}obtenerUsuario(){this.AdministradorService.obtenerUsuario().subscribe(o=>{console.log("data del usuarioes: ",o),this.listaUsuarios=o,this.listaUsuarios.reverse()})}borrarUsuario(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La Usuario con Rut ${o} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrarUsuario(o).subscribe({next:r=>{c().fire("Eliminado!","Su Usuario ha sido eliminado.","success"),this.obtenerUsuario()},error:r=>{c().fire("Error","Error al eliminar, este Usuario esta en uso","error")}})})}buscar(o){8===o.length&&(o=o.concat("-".toString()));let e=this.txtTermino.nativeElement.value=o;this.filterPost=e}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-usuarios"]],viewQuery:function(o,e){if(1&o&&t.Gf(Q,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:43,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por RUT","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","","data-bs-target","#staticBackdrop2",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Usuarios"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"Rut"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Nombres"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Apellidos"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Email"),t.qZA(),t.TgZ(32,"th",19),t._uU(33,"Unidad"),t.qZA(),t.TgZ(34,"th",19),t._uU(35,"Rol"),t.qZA(),t.TgZ(36,"th",19),t._uU(37,"Acci\xf3n"),t.qZA()()(),t.TgZ(38,"tbody",20),t.YNc(39,G,21,16,"tr",21),t.ALo(40,"filterState"),t.qZA()(),t.TgZ(41,"div",22),t.YNc(42,R,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(39),t.Q6J("ngForOf",t.xi3(40,2,e.listaUsuarios,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,u.rS],styles:[q]}),i})(),dt=(()=>{class i{constructor(o,e,r,n,d){this.dialog=o,this.fb=e,this.AdministradorService=r,this.validasionesServices=n,this.data=d,this.titulo="Crear Usuario",this.estado=!1,this.listaUnidad=[],this.listaRol=[],this.arregloObject={},this.formularioUsuario=this.fb.group({rut:[d.rut,[s.kI.required,,s.kI.minLength(3),this.borarar]],nombres_usuario:[d.nombres_usuario,[s.kI.required,,s.kI.minLength(3)]],apellidos_usuario:[d.apellidos_usuario,[s.kI.required,,s.kI.minLength(3)]],correo_usuario:[d.correo_usuario,[s.kI.required,,s.kI.minLength(3)]],contrasena:[d.contrasena,[s.kI.required,,s.kI.minLength(3)]],estado:[!0,s.kI.required],fk_id_unidad:[d.fk_id_unidad,s.kI.required],fk_id_rol:[d.fk_id_rol,s.kI.required]})}ngOnInit(){this.cargarUsuarioModal(),this.cargarUnidad(),this.cargarRol()}campoNoEsValido(o){return this.formularioUsuario.controls[o].errors&&this.formularioUsuario.controls[o].touched&&this.formularioUsuario.controls[o].invalid}campoNoEsValiwdo(o){return console.log("sassasasasa"),this.formularioUsuario.controls[o].touched&&this.formularioUsuario.controls[o].errors&&this.formularioUsuario.controls[o].invalid}borarar(o){var e=0,r=1;let n=o.value;if(!/^[0-9]+-[0-9kK]{1}$/.test(n))return{ss:!1};for(var d=n.split("-"),p=d[1],T=d[0];T;T=Math.floor(T/10))r=(r+T%10*(9-e++%6))%11;let x=r?r-1:"k";return"K"==p&&(p="k"),console.log(x,"ewewew: ",x==p),x!=p?{ss:!1}:void 0}uperCase(){this.arregloObject={rut:this.formularioUsuario.get("rut").value.toLowerCase(),nombres_usuario:this.formularioUsuario.get("nombres_usuario").value.toUpperCase(),apellidos_usuario:this.formularioUsuario.get("apellidos_usuario").value.toUpperCase(),correo_usuario:this.formularioUsuario.get("correo_usuario").value.toUpperCase(),contrasena:this.formularioUsuario.get("contrasena").value.toUpperCase(),estado:this.formularioUsuario.get("estado").value,fk_id_unidad:this.formularioUsuario.get("fk_id_unidad").value,fk_id_rol:this.formularioUsuario.get("fk_id_rol").value}}guardar(){if(this.formularioUsuario.invalid)return this.formularioUsuario.markAllAsTouched(),c().fire("Error","Lene los campos de forma correcta","error"),void console.log("asdfghjkl\xf1");this.data.id_usuarios&&(this.uperCase(),this.formularioUsuario.get("correo_usuario").value.toUpperCase(),console.log("sss: ",this.formularioUsuario.value),this.AdministradorService.actualizarUsuario(this.data.id_usuarios,this.arregloObject).subscribe({next:o=>{console.log("la data es dta: ",o),c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info")},error:o=>{c().fire("Error","Error al Actualizar","error")}})),this.data.id_usuarios||(this.uperCase(),this.AdministradorService.guardarUsuario(this.arregloObject).subscribe({next:o=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.formularioUsuario.reset({estado:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}}))}cargarUsuarioModal(){this.data.id_usuarios&&(console.log("wewewewewew"),this.estado=!0,this.titulo="Actualizar Usuario",this.AdministradorService.obtenerUsuarioId(this.data.id_usuarios).subscribe(o=>console.log("la data es: ",o)))}cargarUnidad(){this.AdministradorService.obtenerUnidadUsuario().subscribe(o=>{this.listaUnidad=o.resultado})}cargarRol(){this.AdministradorService.obtenerRolUsuario().subscribe(o=>{this.listaRol=o.resultado,console.log("ROLLLLLLLLLLLL",o.resultado)})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(s.qu),t.Y36(_),t.Y36($),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["dialog-content-example-dialog"]],viewQuery:function(o,e){if(1&o&&t.Gf(L,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino2=r.first)}},decls:64,vars:18,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"modal-body","col-12"],["formControlName","rut","type","text","placeholder","Ej: 11111111-1",1,"form-control","border-0","border-bottom",3,"keyup"],["termino",""],["class","form-text text-danger",4,"ngIf"],[1,"row","mt-3"],[1,"col-6"],[1,"col-sm-12"],["formControlName","nombres_usuario","type","text","placeholder","Ingrese Nombres",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger ",4,"ngIf"],["formControlName","apellidos_usuario","type","text","placeholder","Ingrese Apellidos ",1,"form-control","border-0","border-bottom","input-upper"],[1,"mt-3"],["formControlName","correo_usuario","type","email","autocomplete","disabled","placeholder","Ingrese Email","name","email",1,"form-control","border-0","border-bottom","input-upper"],["termino2",""],["formControlName","contrasena","type","Password","autocomplete","off","placeholder","Ingrese Password",1,"form-control","border-0","border-bottom"],["formControlName","fk_id_unidad","selected","",1,"form-select","form-select-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","fk_id_rol","selected","",1,"form-select","form-select-sm"],["class","mt-1 col-5",4,"ngIf"],["align","end"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[3,"value"],[1,"mt-1","col-5"],["formControlName","estado","selected","",1,"form-select","form-select-sm"],[3,"value",4,"ngIf"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"div",2)(4,"span"),t._uU(5,"Rut"),t.qZA(),t.TgZ(6,"input",3,4),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(7);return e.borarar(d.value)}),t.qZA(),t.YNc(8,j,2,0,"span",5),t.TgZ(9,"div",6)(10,"div",7)(11,"span"),t._uU(12,"Nombres"),t.qZA(),t.TgZ(13,"div",8),t._UZ(14,"input",9),t.YNc(15,z,2,0,"span",10),t.qZA()(),t.TgZ(16,"div",7)(17,"span"),t._uU(18,"Apellidos"),t.qZA(),t.TgZ(19,"div",8),t._UZ(20,"input",11),t.YNc(21,H,2,0,"span",5),t.qZA()()(),t.TgZ(22,"div",12)(23,"span"),t._uU(24,"Email"),t.qZA(),t._UZ(25,"input",13,14),t.YNc(27,V,2,0,"span",5),t.qZA(),t.TgZ(28,"div",12)(29,"span"),t._uU(30,"Password"),t.qZA(),t._UZ(31,"input",15),t.YNc(32,W,2,0,"span",5),t.qZA(),t.TgZ(33,"div",12)(34,"span"),t._uU(35,"Unidad"),t.qZA(),t.TgZ(36,"select",16)(37,"option",17),t._uU(38,"ELIJA TIPO DE Unidad"),t.qZA(),t.YNc(39,X,3,4,"option",18),t.qZA(),t.YNc(40,K,2,0,"span",10),t.qZA(),t.TgZ(41,"div",12)(42,"span"),t._uU(43,"Roles"),t.qZA(),t.TgZ(44,"select",19)(45,"option",17),t._uU(46,"----Selecione un Rol----"),t.qZA(),t.YNc(47,tt,3,4,"option",18),t.qZA(),t.YNc(48,ot,2,0,"span",5),t.qZA(),t.YNc(49,rt,8,3,"div",20),t.qZA(),t.TgZ(50,"mat-dialog-actions",21)(51,"button",22),t._uU(52,"Cancel"),t.qZA(),t.YNc(53,at,3,0,"div",23),t.YNc(54,st,3,1,"div",23),t.qZA()(),t.TgZ(55,"span"),t._uU(56,"VALUE"),t.qZA(),t.TgZ(57,"pre"),t._uU(58),t.ALo(59,"json"),t.qZA(),t.TgZ(60,"span"),t._uU(61,"VALID"),t.qZA(),t.TgZ(62,"pre"),t._uU(63),t.qZA()}2&o&&(t.xp6(1),t.Oqu(e.titulo),t.xp6(1),t.Q6J("formGroup",e.formularioUsuario),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("rut")),t.xp6(7),t.Q6J("ngIf",e.campoNoEsValido("nombres_usuario")),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("apellidos_usuario")),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("correo_usuario")),t.xp6(5),t.Q6J("ngIf",e.campoNoEsValido("contrasena")),t.xp6(7),t.Q6J("ngForOf",e.listaUnidad),t.xp6(1),t.Q6J("ngIf",e.campoNoEsValido("fk_id_unidad")),t.xp6(7),t.Q6J("ngForOf",e.listaRol),t.xp6(1),t.Q6J("ngIf",e.campoNoEsValido("fk_id_rol")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Oqu(t.lcZ(59,16,e.formularioUsuario.value)),t.xp6(5),t.Oqu(e.formularioUsuario.valid))},directives:[l.uh,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,u.O5,s.EJ,s.YN,s.Kr,u.sg,l.H8,A.lW,l.ZT],pipes:[u.JJ,u.Ts],styles:[q]}),i})(),Z=(()=>{class i{transform(o){return o?"Activo":"Inactivo"}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=t.Yjl({name:"boolean",type:i,pure:!0}),i})();const ct=["termino"];function lt(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"boolean"),t.qZA(),t.TgZ(12,"td")(13,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(14,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarUnidades(n.codigo_unidad)}),t.qZA()()()}if(2&i){const o=a.$implicit,e=a.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(t.lcZ(5,4,o.codigo_unidad)),t.xp6(3),t.Oqu(t.lcZ(8,6,o.nombre_unidad)),t.xp6(3),t.Oqu(t.lcZ(11,8,o.unidad_defecto))}}function ut(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Unidad no encontrada"),t.qZA())}function mt(i,a){1&i&&(t.TgZ(0,"span",11),t._uU(1," Codigo debe tener 3 numeros"),t.qZA())}function pt(i,a){1&i&&(t.TgZ(0,"span",11),t._uU(1," Nombre debe tener 3 letras"),t.qZA())}function gt(i,a){1&i&&(t.TgZ(0,"span",11),t._uU(1," Elija alguna Unidad"),t.qZA())}function _t(i,a){if(1&i&&(t.TgZ(0,"div",12)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",13)(4,"option",14),t._uU(5,"Activo"),t.qZA(),t.TgZ(6,"option",14),t._uU(7,"Inactivo"),t.qZA()(),t.YNc(8,gt,2,0,"span",5),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",o.campoNoEsValido("unidad_defecto"))}}function ft(i,a){1&i&&(t.TgZ(0,"div")(1,"button",15),t._uU(2,"Guardar"),t.qZA()())}function ht(i,a){1&i&&(t.TgZ(0,"div")(1,"button",16),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const k=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-modal[_ngcontent-%COMP%]{height:600px}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let bt=(()=>{class i{constructor(o,e,r){this.dialog=o,this.AdministradorService=e,this.aRouter=r,this.listaUnidades=[],this.estadoBusqueda=!0,this.filterPost=""}ngOnInit(){this.obtenerUnidades(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerUnidades())}openDialog(o){this.dialog.open(At,{disableClose:!0,height:"400px",width:"700px",data:{id_unidad:null==o?void 0:o.id_unidad,codigo_unidad:null==o?void 0:o.codigo_unidad,nombre_unidad:null==o?void 0:o.nombre_unidad,unidad_defecto:null==o?void 0:o.unidad_defecto}}),console.log(null==o?void 0:o.unidad_defecto)}obtenerUnidades(){this.AdministradorService.obtenerUnidad().subscribe(o=>{console.log(o),this.listaUnidades=o,this.listaUnidades.reverse()})}borrarUnidades(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La unidad con codigo ${o} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrarUnidad(o).subscribe({next:r=>{c().fire("Eliminado!","Su unidad ha sido eliminado.","success"),this.obtenerUnidades()},error:r=>{c().fire("Error","Error al eliminar, esta unidad esta en uso","error")}})})}buscar(o){this.filterPost=this.txtTermino.nativeElement.value}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_),t.Y36(f.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-unidades"]],viewQuery:function(o,e){if(1&o&&t.Gf(ct,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:39,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por Id","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar","border"],["data-auto-refresh","",1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Unidades"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"#"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Codigo"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Nombre"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Estado"),t.qZA(),t.TgZ(32,"th",19),t._uU(33,"Acci\xf3n"),t.qZA()()(),t.TgZ(34,"tbody",20),t.YNc(35,lt,15,10,"tr",21),t.ALo(36,"filterState"),t.qZA()(),t.TgZ(37,"div",22),t.YNc(38,ut,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(35),t.Q6J("ngForOf",t.xi3(36,2,e.listaUnidades,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,u.rS,Z],styles:[k]}),i})(),At=(()=>{class i{constructor(o,e,r,n,d,p){this.dialog=o,this.fb=e,this.AdministradorService=r,this.aRouter=n,this.router=d,this.data=p,this.titulo="Crear Unidad",this.estado=!1,this.listaUnidades=[],this.miFormulario=this.fb.group({codigo_unidad:[p.codigo_unidad,[s.kI.required,s.kI.minLength(3)]],nombre_unidad:[p.nombre_unidad,[s.kI.required,s.kI.minLength(3)]],unidad_defecto:[!0,s.kI.required]})}ngOnInit(){this.cargarUnidadModal()}campoNoEsValido(o){return this.miFormulario.controls[o].errors&&this.miFormulario.controls[o].touched}uperCase(){this.arregloObject={codigo_unidad:this.miFormulario.get("codigo_unidad").value.toUpperCase(),nombre_unidad:this.miFormulario.get("nombre_unidad").value.toUpperCase(),unidad_defecto:this.miFormulario.get("unidad_defecto").value}}guardar(){if(this.miFormulario.invalid)return this.miFormulario.markAllAsTouched(),c().fire("Error","Lene los campos de forma correcta","error"),void console.log("asdfghjkl\xf1");this.data.id_unidad&&(this.uperCase(),this.AdministradorService.actualizarUnidad(this.data.id_unidad,this.arregloObject).subscribe({next:o=>{c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info"),this.router.navigate(["usuario-administrador/unidades"])},error:o=>{c().fire("Error","Error al Actualizar","error")}})),this.data.id_unidad||(this.uperCase(),this.AdministradorService.guardarUnidad(this.arregloObject).subscribe({next:o=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),this.router.navigate(["usuario-administrador/unidades"]),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.miFormulario.reset({unidad_defecto:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}}))}cargarUnidadModal(){this.data.id_unidad&&(this.estado=!0,this.titulo="Actualizar Unidad",this.AdministradorService.obtenerUnidadId(this.data.id_unidad),this.router.navigate(["usuario-administrador/unidades"]))}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(s.qu),t.Y36(_),t.Y36(f.gz),t.Y36(f.F0),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["modal-unidades-1"]],decls:29,vars:11,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"mat-typography","abc"],[1,"mt-3"],["formControlName","codigo_unidad","type","text","placeholder","Ingrese Descripcion Unidad",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger",4,"ngIf"],["formControlName","nombre_unidad","type","text","placeholder","Ingrese Nombre Unidad",1,"form-control","border-0","border-bottom","input-upper"],["class","mt-1 col-5",4,"ngIf"],["align","end",1,"mt-5"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[1,"mt-1","col-5"],["formControlName","unidad_defecto",1,"form-select","form-select-sm"],[3,"value"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"span"),t._uU(6,"Codigo Unidad"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,mt,2,0,"span",5),t.qZA(),t.TgZ(9,"div",3)(10,"span"),t._uU(11,"Nombre Unidad"),t.qZA(),t._UZ(12,"input",6),t.YNc(13,pt,2,0,"span",5),t.qZA(),t.YNc(14,_t,9,3,"div",7),t.qZA(),t.TgZ(15,"mat-dialog-actions",8)(16,"button",9),t._uU(17,"Cancel"),t.qZA(),t.YNc(18,ft,3,0,"div",10),t.YNc(19,ht,3,1,"div",10),t.qZA()(),t.TgZ(20,"span"),t._uU(21,"VALUE"),t.qZA(),t.TgZ(22,"pre"),t._uU(23),t.ALo(24,"json"),t.qZA(),t.TgZ(25,"span"),t._uU(26,"VALID"),t.qZA(),t.TgZ(27,"pre"),t._uU(28),t.qZA()),2&o&&(t.xp6(1),t.Oqu(e.titulo),t.xp6(1),t.Q6J("formGroup",e.miFormulario),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("codigo_unidad")),t.xp6(5),t.Q6J("ngIf",e.campoNoEsValido("nombre_unidad")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Oqu(t.lcZ(24,9,e.miFormulario.value)),t.xp6(5),t.Oqu(e.miFormulario.valid))},directives:[l.uh,s._Y,s.JL,s.sg,l.xY,s.Fj,s.JJ,s.u,u.O5,s.EJ,s.YN,s.Kr,l.H8,A.lW,l.ZT],pipes:[u.Ts],styles:[k]}),i})();const Zt=["termino"];function vt(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"boolean"),t.qZA(),t.TgZ(10,"td")(11,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(12,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarProcesos(n.codigo_procesos)}),t.qZA()()()}if(2&i){const o=a.$implicit,e=a.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(o.codigo_procesos),t.xp6(2),t.Oqu(o.nombre_procesos),t.xp6(2),t.Oqu(t.lcZ(9,4,o.estado_procesos))}}function Ct(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Unidad no encontrada"),t.qZA())}function Tt(i,a){1&i&&(t.TgZ(0,"span",12),t._uU(1," Nombre debe tener 3 caracteres"),t.qZA())}function xt(i,a){1&i&&(t.TgZ(0,"span",12),t._uU(1," Nombre debe tener 3 caracteres"),t.qZA())}function Ut(i,a){1&i&&(t.TgZ(0,"span",12),t._uU(1," Elija Algun Estado"),t.qZA())}function qt(i,a){if(1&i&&(t.TgZ(0,"div",13)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",14)(4,"option",15),t._uU(5,"Activo"),t.qZA(),t.TgZ(6,"option",15),t._uU(7,"Inactivo"),t.qZA()(),t.YNc(8,Ut,2,0,"span",5),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",o.campoNoEsValido("estado_procesos"))}}function kt(i,a){1&i&&(t.TgZ(0,"div")(1,"button",16),t._uU(2,"Guardar"),t.qZA()())}function yt(i,a){1&i&&(t.TgZ(0,"div")(1,"button",17),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const y=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-modal[_ngcontent-%COMP%]{height:600px}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let Et=(()=>{class i{constructor(o,e){this.dialog=o,this.AdministradorService=e,this.listaProcesos=[],this.estadoBusqueda=!0,this.filterPost=""}ngOnInit(){this.obtenerProcesos(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerProcesos())}openDialog(o){this.dialog.open(It,{disableClose:!0,height:"400px",width:"700px",data:{id_procesos:null==o?void 0:o.id_procesos,codigo_procesos:null==o?void 0:o.codigo_procesos,nombre_procesos:null==o?void 0:o.nombre_procesos,estado_procesos:null==o?void 0:o.estado_procesos}})}obtenerProcesos(){this.AdministradorService.obtenerProcesos().subscribe(o=>{this.listaProcesos=o,this.listaProcesos.reverse()})}borrarProcesos(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La unidad con codigo ${o} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrarProcesos(o).subscribe({next:r=>{c().fire("Eliminado!","Su Proceso ha sido eliminado.","success"),this.obtenerProcesos()},error:r=>{c().fire("Error","Error al eliminar, esta Proceso esta en uso","error")}})})}buscar(o){this.filterPost=this.txtTermino.nativeElement.value}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-procesos"]],viewQuery:function(o,e){if(1&o&&t.Gf(Zt,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:39,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por CODIGO","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar","border"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","","data-bs-target","#staticBackdrop2",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Procesos"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"Id"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Codigo"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Nombre"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Estado"),t.qZA(),t.TgZ(32,"th",19),t._uU(33,"Acci\xf3n"),t.qZA()()(),t.TgZ(34,"tbody",20),t.YNc(35,vt,13,6,"tr",21),t.ALo(36,"filterState"),t.qZA()(),t.TgZ(37,"div",22),t.YNc(38,Ct,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(35),t.Q6J("ngForOf",t.xi3(36,2,e.listaProcesos,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,Z],styles:[y]}),i})(),It=(()=>{class i{constructor(o,e,r,n){this.fb=o,this.AdministradorService=e,this.router=r,this.data=n,this.titulo="Crear Unidad",this.estado=!1,this.listaProcesos=[],this.formularioProcesos=this.fb.group({codigo_procesos:[n.codigo_procesos,[s.kI.required,s.kI.minLength(3)]],nombre_procesos:[n.nombre_procesos,[s.kI.required,s.kI.minLength(3)]],estado_procesos:[!0,s.kI.required]})}ngOnInit(){this.cargarProcesosModal()}campoNoEsValido(o){return this.formularioProcesos.controls[o].errors&&this.formularioProcesos.controls[o].touched}uperCase(){this.arregloObject={codigo_procesos:this.formularioProcesos.get("codigo_procesos").value.toUpperCase(),nombre_procesos:this.formularioProcesos.get("nombre_procesos").value.toUpperCase(),estado_procesos:this.formularioProcesos.get("estado_procesos").value}}guardar(){if(this.formularioProcesos.invalid)return this.formularioProcesos.markAllAsTouched(),c().fire("Error","Llene los campos de forma correcta","error"),void console.log("asdfghjkl\xf1");this.data.id_procesos&&(this.uperCase(),this.AdministradorService.actualizarProcesos(this.data.id_procesos,this.arregloObject).subscribe({next:o=>{c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info")},error:o=>{c().fire("Error","Error al Actualizar","error")}})),this.data.id_procesos||(this.uperCase(),this.AdministradorService.guardarProcesos(this.arregloObject).subscribe({next:o=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.formularioProcesos.reset({estado_procesos:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}}))}cargarProcesosModal(){this.data.id_procesos&&(this.estado=!0,this.titulo="Actualizar Unidad",this.AdministradorService.obtenerProcesosId(this.data.id_procesos))}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(s.qu),t.Y36(_),t.Y36(f.F0),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["modal-Procesos-1"]],decls:20,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"mat-typography","abc"],[1,"modal-body","col-12"],["formControlName","codigo_procesos","type","text","placeholder","Codigo Proceso",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger",4,"ngIf"],[1,"mt-3"],["formControlName","nombre_procesos","type","email","placeholder","Ingrese Nombre Proceso",1,"form-control","border-0","border-bottom","input-upper"],["class","mt-1 col-5",4,"ngIf"],["align","end",1,"mt-5"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[1,"mt-1","col-5"],["formControlName","estado_procesos",1,"form-select","form-select-sm"],[3,"value"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1,"Crear Procesos"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"span"),t._uU(6,"Codigo Proceso"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,Tt,2,0,"span",5),t.TgZ(9,"div",6)(10,"span"),t._uU(11,"Nombre Proceso"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,xt,2,0,"span",5),t.qZA(),t.YNc(14,qt,9,3,"div",8),t.qZA()(),t.TgZ(15,"mat-dialog-actions",9)(16,"button",10),t._uU(17,"Cancel"),t.qZA(),t.YNc(18,kt,3,0,"div",11),t.YNc(19,yt,3,1,"div",11),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("formGroup",e.formularioProcesos),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("codigo_procesos")),t.xp6(5),t.Q6J("ngIf",e.campoNoEsValido("nombre_procesos")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado))},directives:[l.uh,s._Y,s.JL,s.sg,l.xY,s.Fj,s.JJ,s.u,u.O5,s.EJ,s.YN,s.Kr,l.H8,A.lW,l.ZT],styles:[y]}),i})();const Dt=["termino"];function Nt(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"boolean"),t.qZA(),t.TgZ(12,"td")(13,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(14,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarUnidades(n.id_debilidades)}),t.qZA()()()}if(2&i){const o=a.$implicit;t.xp6(2),t.Oqu(o.codigo_debilidades),t.xp6(2),t.Oqu(o.nombre_debilidades),t.xp6(2),t.Oqu(o.nombre_criterios),t.xp6(2),t.Oqu(o.nombre_unidad),t.xp6(2),t.Oqu(t.lcZ(11,5,o.estado_debilidades))}}function wt(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Unidad no encontrada"),t.qZA())}function Mt(i,a){1&i&&(t.TgZ(0,"span",19),t._uU(1," Codigo debe tener 3 caracteres"),t.qZA())}function Ot(i,a){1&i&&(t.TgZ(0,"span",19),t._uU(1," Codigo debe tener 3 caracteres"),t.qZA())}function Jt(i,a){1&i&&(t.TgZ(0,"span",19),t._uU(1," Codigo debe tener 3 caracteres"),t.qZA())}function Yt(i,a){if(1&i&&(t.TgZ(0,"option",20),t.ALo(1,"number"),t._uU(2),t.qZA()),2&i){const o=a.$implicit;t.Q6J("value",t.lcZ(1,2,o.id_unidad)),t.xp6(2),t.Oqu(o.nombre_unidad)}}function St(i,a){1&i&&(t.TgZ(0,"span",19),t._uU(1," Elija alguna Unidad"),t.qZA())}function Ft(i,a){if(1&i&&(t.TgZ(0,"option",20),t.ALo(1,"number"),t._uU(2),t.qZA()),2&i){const o=a.$implicit;t.Q6J("value",t.lcZ(1,2,o.id_criterios)),t.xp6(2),t.Oqu(o.nombre_criterios)}}function Bt(i,a){1&i&&(t.TgZ(0,"span",19),t._uU(1," Elija algun Criterio"),t.qZA())}function Pt(i,a){1&i&&(t.TgZ(0,"span",19),t._uU(1," Elija alguna Unidad"),t.qZA())}function $t(i,a){if(1&i&&(t.TgZ(0,"div",21)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",22)(4,"option",23),t._uU(5,"Activo"),t.qZA(),t.TgZ(6,"option",23),t._uU(7,"Inactivo"),t.qZA()(),t.YNc(8,Pt,2,0,"span",7),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",o.campoNoEsValido("estado_debilidades"))}}function Qt(i,a){1&i&&(t.TgZ(0,"div")(1,"button",24),t._uU(2,"Guardar"),t.qZA()())}function Gt(i,a){1&i&&(t.TgZ(0,"div")(1,"button",25),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const E=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-modal[_ngcontent-%COMP%]{height:600px}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let Rt=(()=>{class i{constructor(o,e){this.dialog=o,this.AdministradorService=e,this.listaDebilidad=[],this.estadoBusqueda=!0,this.filterPost=""}ngOnInit(){this.obtenerDebilidad(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerDebilidad())}openDialog(o){this.dialog.open(Lt,{disableClose:!0,height:"600px",width:"700px",data:{id_debilidades:null==o?void 0:o.id_debilidades,codigo_debilidades:null==o?void 0:o.codigo_debilidades,nombre_debilidades:null==o?void 0:o.nombre_debilidades,descripcion_debilidades:null==o?void 0:o.descripcion_debilidades,estado_debilidades:null==o?void 0:o.estado_debilidades,fk_id_unidad:null==o?void 0:o.fk_id_unidad,fk_id_criterio:null==o?void 0:o.fk_id_criterio}}),console.log("La clave es: ",null==o?void 0:o.fk_id_unidad)}obtenerDebilidad(){this.AdministradorService.obtenerDebilidad().subscribe(o=>{console.log(o),this.listaDebilidad=o,this.listaDebilidad.reverse()})}borrarUnidades(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La Debilidad con codigo ${o} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrarDebilidad(o).subscribe({next:r=>{c().fire("Eliminado!","Su Debilidad ha sido eliminado.","success"),this.obtenerDebilidad()},error:r=>{c().fire("Error","Error al eliminar, esta Debilidad esta en uso","error")}})})}buscar(o){this.filterPost=this.txtTermino.nativeElement.value}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-debilidades"]],viewQuery:function(o,e){if(1&o&&t.Gf(Dt,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:41,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por Id","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar","border"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","","data-bs-target","#staticBackdrop2",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Debilidades"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"Codigo"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Nombre"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Criterio"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Unidad"),t.qZA(),t.TgZ(32,"th",19),t._uU(33,"Estado"),t.qZA(),t.TgZ(34,"th",19),t._uU(35,"Acci\xf3n"),t.qZA()()(),t.TgZ(36,"tbody",20),t.YNc(37,Nt,15,7,"tr",21),t.ALo(38,"filterState"),t.qZA()(),t.TgZ(39,"div",22),t.YNc(40,wt,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(37),t.Q6J("ngForOf",t.xi3(38,2,e.listaDebilidad,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,Z],styles:[E]}),i})(),Lt=(()=>{class i{constructor(o,e,r,n){this.dialog=o,this.fb=e,this.AdministradorService=r,this.data=n,this.titulo="Crear Debilidad",this.estado=!1,this.listaDebilidad=[],this.listaCriterio=[],this.listaUnidad=[],this.formularioDebilidad=this.fb.group({codigo_debilidades:[n.codigo_debilidades,[s.kI.required,s.kI.minLength(3)]],nombre_debilidades:[n.nombre_debilidades,[s.kI.required,s.kI.minLength(3)]],descripcion_debilidades:[n.descripcion_debilidades,[s.kI.required,s.kI.minLength(3)]],fk_id_unidad:[n.fk_id_unidad,s.kI.required],fk_id_criterio:[n.fk_id_criterio,s.kI.required],estado_debilidades:[!0,s.kI.required]}),console.log("WWWWWWWWWWWWWWWWWWWWWWW",n.fk_id_criterio)}ngOnInit(){this.cargarUnidadModal(),this.cargarUnidadDebilidad(),this.cargarCriterioDebilidad()}campoNoEsValido(o){return this.formularioDebilidad.controls[o].errors&&this.formularioDebilidad.controls[o].touched}uperCase(){this.arregloObject={codigo_debilidades:this.formularioDebilidad.get("codigo_debilidades").value.toUpperCase(),nombre_debilidades:this.formularioDebilidad.get("nombre_debilidades").value.toUpperCase(),descripcion_debilidades:this.formularioDebilidad.get("descripcion_debilidades").value.toUpperCase(),fk_id_unidad:this.formularioDebilidad.get("fk_id_unidad").value,fk_id_criterio:this.formularioDebilidad.get("fk_id_criterio").value,estado_debilidades:this.formularioDebilidad.get("estado_debilidades").value}}guardar(){if(this.formularioDebilidad.invalid)return this.formularioDebilidad.markAllAsTouched(),c().fire("Error","Lene los campos de forma correcta","error"),void console.log("asdfghjkl\xf1");this.data.id_debilidades&&(this.uperCase(),this.AdministradorService.actualizarDebilidad(this.data.id_debilidades,this.arregloObject).subscribe({next:o=>{c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info")},error:o=>{c().fire("Error","Error al Actualizar","error")}})),this.data.id_debilidades||(this.uperCase(),this.AdministradorService.guardarDebilidad(this.arregloObject).subscribe({next:o=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.formularioDebilidad.reset({estado_debilidades:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}}))}cargarUnidadModal(){this.data.id_debilidades&&(this.estado=!0,this.titulo="Actualizar Unidad",this.AdministradorService.obtenerDebilidadId(this.data.id_debilidades))}cargarUnidadDebilidad(){this.AdministradorService.obtenerUnidadDebilidad().subscribe(o=>{this.listaUnidad=o.resultado})}cargarCriterioDebilidad(){this.AdministradorService.obtenerCriterioDebilidad().subscribe(o=>{this.listaCriterio=o.resultado})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(s.qu),t.Y36(_),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["modal-debilidades-1"]],decls:51,vars:16,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"mat-typography","abc"],[1,"row","mt-3"],[1,"col-6"],[1,"col-sm-12"],["formControlName","codigo_debilidades","type","text","placeholder","Ingrese Codigo Criterio",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger",4,"ngIf"],["formControlName","nombre_debilidades","type","text","placeholder","Ingrese Nombre Criterio",1,"form-control","border-0","border-bottom","input-upper"],[1,"mt-3"],["formControlName","descripcion_debilidades","type","text","placeholder","Ingrese Descripcion Criterio",1,"form-control","border-0","border-bottom","input-upper"],["formControlName","fk_id_unidad","selected","",1,"form-select","form-select-sm"],[3,"value",4,"ngFor","ngForOf"],["formControlName","fk_id_criterio","selected","",1,"form-select","form-select-sm"],["value",""],["class","mt-1 col-5",4,"ngIf"],["align","end"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[3,"value"],[1,"mt-1","col-5"],["formControlName","estado_debilidades",1,"form-select","form-select-sm"],["selected","",3,"value"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"div",4)(6,"span"),t._uU(7,"Codigo Criterio"),t.qZA(),t.TgZ(8,"div",5),t._UZ(9,"input",6),t.YNc(10,Mt,2,0,"span",7),t.qZA()(),t.TgZ(11,"div",4)(12,"span"),t._uU(13,"Nombre Criterio"),t.qZA(),t.TgZ(14,"div",5),t._UZ(15,"input",8),t.YNc(16,Ot,2,0,"span",7),t.qZA()()(),t.TgZ(17,"div",9)(18,"span"),t._uU(19,"Descripcion"),t.qZA(),t._UZ(20,"input",10),t.YNc(21,Jt,2,0,"span",7),t.qZA(),t.TgZ(22,"div",9)(23,"span"),t._uU(24,"Unidad"),t.qZA(),t.TgZ(25,"select",11),t.YNc(26,Yt,3,4,"option",12),t.qZA(),t.YNc(27,St,2,0,"span",7),t.qZA(),t.TgZ(28,"div",9)(29,"span"),t._uU(30,"Criterio"),t.qZA(),t.TgZ(31,"select",13)(32,"option",14),t._uU(33,"ELIJA TIPO DE Criterio"),t.qZA(),t.YNc(34,Ft,3,4,"option",12),t.qZA(),t.YNc(35,Bt,2,0,"span",7),t.qZA(),t.YNc(36,$t,9,3,"div",15),t.qZA(),t.TgZ(37,"mat-dialog-actions",16)(38,"button",17),t._uU(39,"Cancel"),t.qZA(),t.YNc(40,Qt,3,0,"div",18),t.YNc(41,Gt,3,1,"div",18),t.qZA()(),t.TgZ(42,"span"),t._uU(43,"VALUE"),t.qZA(),t.TgZ(44,"pre"),t._uU(45),t.ALo(46,"json"),t.qZA(),t.TgZ(47,"span"),t._uU(48,"VALID"),t.qZA(),t.TgZ(49,"pre"),t._uU(50),t.qZA()),2&o&&(t.xp6(1),t.Oqu(e.titulo),t.xp6(1),t.Q6J("formGroup",e.formularioDebilidad),t.xp6(8),t.Q6J("ngIf",e.campoNoEsValido("codigo_debilidades")),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("nombre_debilidades")),t.xp6(5),t.Q6J("ngIf",e.campoNoEsValido("descripcion_debilidades")),t.xp6(5),t.Q6J("ngForOf",e.listaUnidad),t.xp6(1),t.Q6J("ngIf",e.campoNoEsValido("fk_id_unidad")),t.xp6(7),t.Q6J("ngForOf",e.listaCriterio),t.xp6(1),t.Q6J("ngIf",e.campoNoEsValido("fk_id_criterio")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Oqu(t.lcZ(46,14,e.formularioDebilidad.value)),t.xp6(5),t.Oqu(e.formularioDebilidad.valid))},directives:[l.uh,s._Y,s.JL,s.sg,l.xY,s.Fj,s.JJ,s.u,u.O5,s.EJ,u.sg,s.YN,s.Kr,l.H8,A.lW,l.ZT],pipes:[u.JJ,u.Ts],styles:[E]}),i})();const jt=["termino"];function zt(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"boolean"),t.qZA(),t.TgZ(10,"td")(11,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(12,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarCriterio(n.codigo_criterios)}),t.qZA()()()}if(2&i){const o=a.$implicit,e=a.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(o.codigo_criterios),t.xp6(2),t.Oqu(o.nombre_criterios),t.xp6(2),t.Oqu(t.lcZ(9,4,o.estado_criterios))}}function Ht(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Unidad no encontrada"),t.qZA())}function Vt(i,a){1&i&&(t.TgZ(0,"span",13),t._uU(1," Codigo debe tener 3 caracteres"),t.qZA())}function Wt(i,a){1&i&&(t.TgZ(0,"span",13),t._uU(1," Nombre debe tener 3 caracteres"),t.qZA())}function Xt(i,a){1&i&&(t.TgZ(0,"span",13),t._uU(1," Descripcion debe tener 3 caracteres"),t.qZA())}function Kt(i,a){1&i&&(t.TgZ(0,"span",13),t._uU(1," Elija algun estado"),t.qZA())}function to(i,a){if(1&i&&(t.TgZ(0,"div",14)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",15)(4,"option",16),t._uU(5,"Activo"),t.qZA(),t.TgZ(6,"option",16),t._uU(7,"Inactivo"),t.qZA()(),t.YNc(8,Kt,2,0,"span",5),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",o.campoNoEsValido("estado_criterios"))}}function oo(i,a){1&i&&(t.TgZ(0,"div")(1,"button",17),t._uU(2,"Guardar"),t.qZA()())}function eo(i,a){1&i&&(t.TgZ(0,"div")(1,"button",18),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const I=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-modal[_ngcontent-%COMP%]{height:600px}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let io=(()=>{class i{constructor(o,e){this.dialog=o,this.AdministradorService=e,this.listaCriterios=[],this.estadoBusqueda=!0,this.filterPost=""}ngOnInit(){this.obtenerCriterio(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerCriterio())}openDialog(o){this.dialog.open(ro,{disableClose:!0,height:"500px",width:"700px",data:{id_criterios:null==o?void 0:o.id_criterios,codigo_criterios:null==o?void 0:o.codigo_criterios,nombre_criterios:null==o?void 0:o.nombre_criterios,descripcion_criterios:null==o?void 0:o.descripcion_criterios,estado_criterios:null==o?void 0:o.estado_criterios}}),console.log("la id es:",null==o?void 0:o.id_criterios)}obtenerCriterio(){this.AdministradorService.obtenerCriterio().subscribe(o=>{this.listaCriterios=o,this.listaCriterios.reverse()})}borrarCriterio(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La criterio con codigo ${o} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrarCriterio(o).subscribe({next:r=>{c().fire("Eliminado!","Su criterio ha sido eliminado.","success"),this.obtenerCriterio()},error:r=>{c().fire("Error","Error al eliminar, esta criterios esta en uso","error")}})})}buscar(o){this.filterPost=this.txtTermino.nativeElement.value}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-criterios"]],viewQuery:function(o,e){if(1&o&&t.Gf(jt,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:39,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por Id","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","","data-bs-target","#staticBackdrop2",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Criterios"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"Id"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Codigo"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Nombre"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Estado"),t.qZA(),t.TgZ(32,"th",19),t._uU(33,"Acci\xf3n"),t.qZA()()(),t.TgZ(34,"tbody",20),t.YNc(35,zt,13,6,"tr",21),t.ALo(36,"filterState"),t.qZA()(),t.TgZ(37,"div",22),t.YNc(38,Ht,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(35),t.Q6J("ngForOf",t.xi3(36,2,e.listaCriterios,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,Z],styles:[I]}),i})(),ro=(()=>{class i{constructor(o,e,r,n,d){this.fb=o,this.AdministradorService=e,this.aRouter=r,this.router=n,this.data=d,this.titulo="Crear Unidad",this.estado=!1,this.formularioCriterio=this.fb.group({codigo_criterios:[d.codigo_criterios,[s.kI.required,s.kI.minLength(3)]],nombre_criterios:[d.nombre_criterios,[s.kI.required,s.kI.minLength(3)]],descripcion_criterios:[d.descripcion_criterios,[s.kI.required,s.kI.minLength(3)]],estado_criterios:[!0,[s.kI.required]]})}ngOnInit(){this.cargarUnidadModal()}campoNoEsValido(o){return this.formularioCriterio.controls[o].errors&&this.formularioCriterio.controls[o].touched}uperCase(){this.arregloObject={codigo_criterios:this.formularioCriterio.get("codigo_criterios").value.toUpperCase(),nombre_criterios:this.formularioCriterio.get("nombre_criterios").value.toUpperCase(),descripcion_criterios:this.formularioCriterio.get("descripcion_criterios").value.toUpperCase(),estado_criterios:this.formularioCriterio.get("estado_criterios").value}}guardar(){if(this.formularioCriterio.invalid)return this.formularioCriterio.markAllAsTouched(),void console.log("asdfghjkl\xf1");this.data.id_criterios?(this.uperCase(),this.AdministradorService.actualizarCriterio(this.data.id_criterios,this.arregloObject).subscribe({next:o=>{c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info")},error:o=>{c().fire("Error","Error al Actualizar","error")}})):(this.uperCase(),this.AdministradorService.guardarCriterio(this.arregloObject).subscribe({next:o=>{this.router.navigate(["usuario-administrador/criterios"]),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.formularioCriterio.reset({estado_criterios:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}}))}cargarUnidadModal(){console.log("la id eewewewewewws:",this.data.id_criterios),this.data.id_criterios&&(this.estado=!0,this.titulo="Actualizar Criterio",this.AdministradorService.obtenerCriterioId(this.data.id_criterios),this.router.navigate(["usuario-administrador/criterios"]))}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(s.qu),t.Y36(_),t.Y36(f.gz),t.Y36(f.F0),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["modal-criterios-1"]],decls:25,vars:7,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"mat-typography","abc"],[1,"modal-body","col-12"],["formControlName","codigo_criterios","type","text","placeholder","Codigo Criterio",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger",4,"ngIf"],[1,"mt-3"],["formControlName","nombre_criterios","type","email","placeholder","Ingrese Nombre Criterio",1,"form-control","border-0","border-bottom","input-upper"],["formControlName","descripcion_criterios","type","text","placeholder","Ingrese Descripion Criterio",1,"form-control","border-0","border-bottom","input-upper"],["class","mt-1 col-5",4,"ngIf"],["align","end",1,"mt-5"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[1,"mt-1","col-5"],["formControlName","estado_criterios",1,"form-select","form-select-sm"],[3,"value"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1,"Crear Criterios"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"span"),t._uU(6,"Codigo Criterio"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,Vt,2,0,"span",5),t.TgZ(9,"div",6)(10,"span"),t._uU(11,"Nombre Criterio"),t.qZA(),t._UZ(12,"input",7),t.YNc(13,Wt,2,0,"span",5),t.qZA(),t.TgZ(14,"div",6)(15,"span"),t._uU(16,"Descripcion Criterio"),t.qZA(),t._UZ(17,"input",8),t.YNc(18,Xt,2,0,"span",5),t.qZA(),t.YNc(19,to,9,3,"div",9),t.qZA()(),t.TgZ(20,"mat-dialog-actions",10)(21,"button",11),t._uU(22,"Cancel"),t.qZA(),t.YNc(23,oo,3,0,"div",12),t.YNc(24,eo,3,1,"div",12),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("formGroup",e.formularioCriterio),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("codigo_criterios")),t.xp6(5),t.Q6J("ngIf",e.campoNoEsValido("nombre_criterios")),t.xp6(5),t.Q6J("ngIf",e.campoNoEsValido("descripcion_criterios")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado))},directives:[l.uh,s._Y,s.JL,s.sg,l.xY,s.Fj,s.JJ,s.u,u.O5,s.EJ,s.YN,s.Kr,l.H8,A.lW,l.ZT],styles:[I]}),i})();const ao=["termino"];function so(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"boolean"),t.qZA(),t.TgZ(9,"td")(10,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(11,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarTipoRegistros(n.id_registros)}),t.qZA()()()}if(2&i){const o=a.$implicit,e=a.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(t.lcZ(5,3,o.nombre_registros)),t.xp6(3),t.Oqu(t.lcZ(8,5,o.estado_registros))}}function no(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Unidad no encontrada"),t.qZA())}function co(i,a){1&i&&(t.TgZ(0,"span",10),t._uU(1," Nombre debe tener 3 Caracteres"),t.qZA())}function lo(i,a){1&i&&(t.TgZ(0,"div",11)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",12)(4,"option",13),t._uU(5,"Activo"),t.qZA(),t.TgZ(6,"option",13),t._uU(7,"Inactivo"),t.qZA()()()),2&i&&(t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1))}function uo(i,a){1&i&&(t.TgZ(0,"div")(1,"button",14),t._uU(2,"Guardar"),t.qZA()())}function mo(i,a){1&i&&(t.TgZ(0,"div")(1,"button",15),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const D=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-modal[_ngcontent-%COMP%]{height:600px}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let po=(()=>{class i{constructor(o,e){this.dialog=o,this.AdministradorService=e,this.listaTipoRegistros=[],this.estadoBusqueda=!0,this.filterPost=""}openDialog(o){this.dialog.open(go,{disableClose:!0,height:"400px",width:"700px",data:{id_registros:null==o?void 0:o.id_registros,nombre_registros:null==o?void 0:o.nombre_registros,estado_registros:null==o?void 0:o.estado_registros}}).afterClosed().subscribe(r=>{console.log("The dialog was closed")})}ngOnInit(){this.obtenerTipoRegistros(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerTipoRegistros())}obtenerTipoRegistros(){this.AdministradorService.obtenertiposRegistros().subscribe(o=>{console.log("TIPOS REGISTRO",o),this.listaTipoRegistros=o,this.listaTipoRegistros.reverse()})}borrarTipoRegistros(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La Registros con codigo ${o} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrartiposRegistros(o).subscribe({next:r=>{c().fire("Eliminado!","Su Registro ha sido eliminado.","success"),this.obtenerTipoRegistros()},error:r=>{c().fire("Error","Error al eliminar, esta Registros esta en uso","error")}})})}buscar(o){this.filterPost=this.txtTermino.nativeElement.value}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-tipos-registros"]],viewQuery:function(o,e){if(1&o&&t.Gf(ao,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:37,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por Id","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar","border"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","","data-bs-target","#staticBackdrop2",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Tipos De Registros"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"Id"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Nombre"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Estado"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Acci\xf3n"),t.qZA()()(),t.TgZ(32,"tbody",20),t.YNc(33,so,12,7,"tr",21),t.ALo(34,"filterState"),t.qZA()(),t.TgZ(35,"div",22),t.YNc(36,no,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(33),t.Q6J("ngForOf",t.xi3(34,2,e.listaTipoRegistros,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,u.rS,Z],styles:[D]}),i})(),go=(()=>{class i{constructor(o,e,r,n){this.dialog=o,this.fb=e,this.AdministradorService=r,this.data=n,this.titulo="Crear Unidad",this.estado=!1,this.listaTipoRegistros=[],this.formularioTipoRegistros=this.fb.group({nombre_registros:[n.nombre_registros,[s.kI.required,s.kI.minLength(3)]],estado_registros:[!0,s.kI.required]})}ngOnInit(){this.cargarTipoRegistroModal()}campoNoEsValido(o){return this.formularioTipoRegistros.controls[o].errors&&this.formularioTipoRegistros.controls[o].touched}uperCase(){this.arregloObject={nombre_registros:this.formularioTipoRegistros.get("nombre_registros").value.toUpperCase(),estado_registros:this.formularioTipoRegistros.get("estado_registros").value}}guardar(){this.formularioTipoRegistros.invalid?this.formularioTipoRegistros.markAllAsTouched():(this.data.id_registros&&(this.uperCase(),this.AdministradorService.actualizartiposRegistros(this.data.id_registros,this.arregloObject).subscribe({next:o=>{c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info")},error:o=>{c().fire("Error","Error al Actualizar","error")}})),this.data.id_registros||(this.uperCase(),this.AdministradorService.guardartiposRegistros(this.arregloObject).subscribe({next:o=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.formularioTipoRegistros.reset({estado_registros:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}})))}cargarTipoRegistroModal(){this.data.id_registros&&(this.estado=!0,this.titulo="Actualizar Tipo Registro",this.AdministradorService.obtenerUnidadId(this.data.id_registros))}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(s.qu),t.Y36(_),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["modal-tipos-registros-1"]],decls:24,vars:9,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"mat-typography","abc"],[1,"modal-body","col-12"],["formControlName","nombre_registros","type","text","placeholder","Ingrese Tipo Registro",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger",4,"ngIf"],["class","mt-1 col-5",4,"ngIf"],["align","end",1,"mt-5"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[1,"mt-1","col-5"],["formControlName","estado_registros",1,"form-select","form-select-sm"],[3,"value"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1,"Crear Tipos de Registros"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"span"),t._uU(6,"Tipo Registro"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,co,2,0,"span",5),t.qZA(),t.YNc(9,lo,8,2,"div",6),t.qZA(),t.TgZ(10,"mat-dialog-actions",7)(11,"button",8),t._uU(12,"Cancel"),t.qZA(),t.YNc(13,uo,3,0,"div",9),t.YNc(14,mo,3,1,"div",9),t.qZA()(),t.TgZ(15,"span"),t._uU(16,"VALUE"),t.qZA(),t.TgZ(17,"pre"),t._uU(18),t.ALo(19,"json"),t.qZA(),t.TgZ(20,"span"),t._uU(21,"VALID"),t.qZA(),t.TgZ(22,"pre"),t._uU(23),t.qZA()),2&o&&(t.xp6(2),t.Q6J("formGroup",e.formularioTipoRegistros),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("nombre_registros")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Oqu(t.lcZ(19,7,e.formularioTipoRegistros.value)),t.xp6(5),t.Oqu(e.formularioTipoRegistros.valid))},directives:[l.uh,s._Y,s.JL,s.sg,l.xY,s.Fj,s.JJ,s.u,u.O5,s.EJ,s.YN,s.Kr,l.H8,A.lW,l.ZT],pipes:[u.Ts],styles:[D]}),i})();const _o=["termino"];function fo(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"boolean"),t.qZA(),t.TgZ(9,"td")(10,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(11,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarAmbitoGeografico(n.id_ambito_geografico)}),t.qZA()()()}if(2&i){const o=a.$implicit,e=a.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(t.lcZ(5,3,o.nombre_ambito_geografico)),t.xp6(3),t.Oqu(t.lcZ(8,5,o.estado_ambito_geografico))}}function ho(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Ambito Geografico no encontrada"),t.qZA())}function bo(i,a){1&i&&(t.TgZ(0,"span",10),t._uU(1," Codigo debe tener 3 caracteres"),t.qZA())}function Ao(i,a){1&i&&(t.TgZ(0,"span",10),t._uU(1," Elija alguna Unidad"),t.qZA())}function Zo(i,a){if(1&i&&(t.TgZ(0,"div",11)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",12)(4,"option",13),t._uU(5,"Activo"),t.qZA(),t.TgZ(6,"option",13),t._uU(7,"Inactivo"),t.qZA()(),t.YNc(8,Ao,2,0,"span",5),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",o.campoNoEsValido("estado_ambito_geografico"))}}function vo(i,a){1&i&&(t.TgZ(0,"div")(1,"button",14),t._uU(2,"Guardar"),t.qZA()())}function Co(i,a){1&i&&(t.TgZ(0,"div")(1,"button",15),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const N=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-modal[_ngcontent-%COMP%]{height:600px}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let To=(()=>{class i{constructor(o,e){this.dialog=o,this.AdministradorService=e,this.listaAmbitoGeografico=[],this.estadoBusqueda=!0,this.filterPost=""}ngOnInit(){this.obtenerAmbitoGeografico(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerAmbitoGeografico())}openDialog(o){this.dialog.open(xo,{disableClose:!0,height:"600px",width:"700px",data:{id_ambito_geografico:null==o?void 0:o.id_ambito_geografico,nombre_ambito_geografico:null==o?void 0:o.nombre_ambito_geografico,estado_ambito_geografico:null==o?void 0:o.estado_ambito_geografico}})}obtenerAmbitoGeografico(){this.AdministradorService.obtenerAmbitoGeografico().subscribe(o=>{this.listaAmbitoGeografico=o,this.listaAmbitoGeografico.reverse()})}borrarAmbitoGeografico(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La Ambito Geografico con codigo ${o} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrarAmbitoGeografico(o).subscribe({next:r=>{c().fire("Eliminado!","Su Ambito Geografico se ha sido eliminado.","success"),this.obtenerAmbitoGeografico()},error:r=>{c().fire("Error","Error al eliminar, esta el Ambito Geografico esta en uso","error")}})})}buscar(o){this.filterPost=this.txtTermino.nativeElement.value}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-ambito-geografico"]],viewQuery:function(o,e){if(1&o&&t.Gf(_o,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:37,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por nombre","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar","border"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","","data-bs-target","#staticBackdrop2",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Ambito Geografico"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"Id"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Nombre"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Estado"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Acci\xf3n"),t.qZA()()(),t.TgZ(32,"tbody",20),t.YNc(33,fo,12,7,"tr",21),t.ALo(34,"filterState"),t.qZA()(),t.TgZ(35,"div",22),t.YNc(36,ho,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(33),t.Q6J("ngForOf",t.xi3(34,2,e.listaAmbitoGeografico,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,u.rS,Z],styles:[N]}),i})(),xo=(()=>{class i{constructor(o,e,r,n){this.dialog=o,this.fb=e,this.AdministradorService=r,this.data=n,this.titulo="Crear Ambito Geografico",this.estado=!1,this.listaAmbitoGeografico=[],this.formularioAmbitoGeografico=this.fb.group({nombre_ambito_geografico:[n.nombre_ambito_geografico,[s.kI.required,s.kI.minLength(3)]],estado_ambito_geografico:[!0,s.kI.required]})}ngOnInit(){this.cargarAmbitoGeograficoModal()}campoNoEsValido(o){return this.formularioAmbitoGeografico.controls[o].errors&&this.formularioAmbitoGeografico.controls[o].touched}uperCase(){this.arregloObject={nombre_ambito_geografico:this.formularioAmbitoGeografico.get("nombre_ambito_geografico").value.toUpperCase(),estado_ambito_geografico:this.formularioAmbitoGeografico.get("estado_ambito_geografico").value}}guardar(){if(this.formularioAmbitoGeografico.invalid)return this.formularioAmbitoGeografico.markAllAsTouched(),c().fire("Error","Lene los campos de forma correcta","error"),void console.log("asdfghjkl\xf1");this.data.id_ambito_geografico&&(this.uperCase(),this.AdministradorService.actualizarAmbitoGeografico(this.data.id_ambito_geografico,this.arregloObject).subscribe({next:o=>{c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info")},error:o=>{c().fire("Error","Error al Actualizar","error")}})),this.data.id_ambito_geografico||(this.uperCase(),this.AdministradorService.guardarAmbitoGeografico(this.arregloObject).subscribe({next:o=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.formularioAmbitoGeografico.reset({estado_ambito_geografico:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}}))}cargarAmbitoGeograficoModal(){this.data.id_ambito_geografico&&(this.estado=!0,this.titulo="Actualizar Ambito Geografico",this.AdministradorService.obtenerAmbitoGeograficoId(this.data.id_ambito_geografico))}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(s.qu),t.Y36(_),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["modal-ambito-geografico-1"]],decls:15,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"mat-typography","abc"],[1,"modal-body","col-12"],["formControlName","nombre_ambito_geografico","type","text","placeholder","Ingrese Nombre Ambito Geografico",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger",4,"ngIf"],["class","mt-1 col-5",4,"ngIf"],["align","end"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[1,"mt-1","col-5"],["formControlName","estado_ambito_geografico",1,"form-select","form-select-sm"],["selected","",3,"value"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"span"),t._uU(6,"Nombre Ambito Geografico"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,bo,2,0,"span",5),t.qZA(),t.YNc(9,Zo,9,3,"div",6),t.qZA(),t.TgZ(10,"mat-dialog-actions",7)(11,"button",8),t._uU(12,"Cancel"),t.qZA(),t.YNc(13,vo,3,0,"div",9),t.YNc(14,Co,3,1,"div",9),t.qZA()()),2&o&&(t.xp6(1),t.Oqu(e.titulo),t.xp6(1),t.Q6J("formGroup",e.formularioAmbitoGeografico),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("nombre_ambito_geografico")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado))},directives:[l.uh,s._Y,s.JL,s.sg,l.xY,s.Fj,s.JJ,s.u,u.O5,s.EJ,s.YN,s.Kr,l.H8,A.lW,l.ZT],styles:[N]}),i})();const Uo=["termino"];function qo(i,a){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"th",24),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"boolean"),t.qZA(),t.TgZ(9,"td")(10,"i",25),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().openDialog(n)}),t.qZA(),t.TgZ(11,"i",26),t.NdJ("click",function(){const n=t.CHM(o).$implicit;return t.oxw().borrarAmbitoAcademico(n.id_ambito_academico)}),t.qZA()()()}if(2&i){const o=a.$implicit,e=a.index;t.xp6(2),t.Oqu(e+1),t.xp6(2),t.Oqu(t.lcZ(5,3,o.nombre_ambito_academico)),t.xp6(3),t.Oqu(t.lcZ(8,5,o.estado_ambito_academico))}}function ko(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Unidad no encontrada"),t.qZA())}function yo(i,a){1&i&&(t.TgZ(0,"span",10),t._uU(1," Codigo debe tener 3 caracteres"),t.qZA())}function Eo(i,a){1&i&&(t.TgZ(0,"span",10),t._uU(1," Elija alguna Ambito Academico"),t.qZA())}function Io(i,a){if(1&i&&(t.TgZ(0,"div",11)(1,"span"),t._uU(2,"Estado"),t.qZA(),t.TgZ(3,"select",12)(4,"option",13),t._uU(5,"Activo"),t.qZA(),t.TgZ(6,"option",13),t._uU(7,"Inactivo"),t.qZA()(),t.YNc(8,Eo,2,0,"span",5),t.qZA()),2&i){const o=t.oxw();t.xp6(4),t.Q6J("value",!0),t.xp6(2),t.Q6J("value",!1),t.xp6(2),t.Q6J("ngIf",o.campoNoEsValido("estado_ambito_academico"))}}function Do(i,a){1&i&&(t.TgZ(0,"div")(1,"button",14),t._uU(2,"Guardar"),t.qZA()())}function No(i,a){1&i&&(t.TgZ(0,"div")(1,"button",15),t._uU(2,"Guardar"),t.qZA()()),2&i&&(t.xp6(1),t.Q6J("mat-dialog-close",!0))}const w=".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.h-modal[_ngcontent-%COMP%]{height:600px}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}";let wo=(()=>{class i{constructor(o,e){this.dialog=o,this.AdministradorService=e,this.listaAmbitoAcademico=[],this.estadoBusqueda=!0,this.filterPost=""}ngOnInit(){this.obtenerAmbitoAcademico(),this.suscription=this.AdministradorService.refresh$.subscribe(()=>this.obtenerAmbitoAcademico())}openDialog(o){this.dialog.open(Mo,{disableClose:!0,height:"300px",width:"700px",data:{id_ambito_academico:null==o?void 0:o.id_ambito_academico,nombre_ambito_academico:null==o?void 0:o.nombre_ambito_academico,estado_ambito_academico:null==o?void 0:o.estado_ambito_academico}})}obtenerAmbitoAcademico(){this.AdministradorService.obtenerAmbitoAcademico().subscribe(o=>{this.listaAmbitoAcademico=o,this.listaAmbitoAcademico.reverse()})}borrarAmbitoAcademico(o){c().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1El Ambito Academico con codigo ${o} sera eliminado!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(e=>{e.isConfirmed&&this.AdministradorService.borrarAmbitoAcademico(o).subscribe({next:r=>{c().fire("Eliminado!","Su Ambito Academico ha sido eliminado.","success"),this.obtenerAmbitoAcademico()},error:r=>{c().fire("Error","Error al eliminar, este Ambito Academico esta en uso","error")}})})}buscar(o){this.filterPost=this.txtTermino.nativeElement.value}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(_))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-ambito-academico"]],viewQuery:function(o,e){if(1&o&&t.Gf(Uo,5),2&o){let r;t.iGM(r=t.CRH())&&(e.txtTermino=r.first)}},decls:37,vars:5,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container"],[1,"row","mt-2"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-9","mx-auto","mb-4"],[1,"row"],["mat-button","",1,"fa-solid","fa-circle-plus","fs-1","text-primary","col-auto","cursor-pointer",3,"click"],["type","text","placeholder","Buscar por nombre","oninput","this.value = this.value.toUpperCase()",1,"fs-5","border-0","col","border-bottom",3,"keyup"],["termino",""],[1,"my-custom-scrollbar","border"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],[1,"text-danger","text-center","fs-3"],[4,"ngIf"],["scope","row"],["mat-button","","data-bs-target","#staticBackdrop2",1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye","p-2",3,"click"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),t.TgZ(5,"title"),t._uU(6,"Document"),t.qZA()(),t.TgZ(7,"body")(8,"div",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"h1",9),t._uU(14,"Ambito Academico"),t.qZA(),t.TgZ(15,"div",10)(16,"div",11)(17,"i",12),t.NdJ("click",function(){return e.openDialog()}),t.qZA(),t.TgZ(18,"input",13,14),t.NdJ("keyup",function(){t.CHM(r);const d=t.MAs(19);return e.buscar(d.value)}),t.qZA()()(),t.TgZ(20,"div",15)(21,"table",16)(22,"thead",17)(23,"tr",18)(24,"th",19),t._uU(25,"Id"),t.qZA(),t.TgZ(26,"th",19),t._uU(27,"Nombre"),t.qZA(),t.TgZ(28,"th",19),t._uU(29,"Estado"),t.qZA(),t.TgZ(30,"th",19),t._uU(31,"Acci\xf3n"),t.qZA()()(),t.TgZ(32,"tbody",20),t.YNc(33,qo,12,7,"tr",21),t.ALo(34,"filterState"),t.qZA()(),t.TgZ(35,"div",22),t.YNc(36,ko,2,0,"span",23),t.qZA()()()()()()()()()}2&o&&(t.xp6(33),t.Q6J("ngForOf",t.xi3(34,2,e.listaAmbitoAcademico,e.filterPost)),t.xp6(3),t.Q6J("ngIf",!1===e.estadoBusqueda))},directives:[u.sg,u.O5],pipes:[b.H,u.rS,Z],styles:[w]}),i})(),Mo=(()=>{class i{constructor(o,e,r,n){this.dialog=o,this.fb=e,this.AdministradorService=r,this.data=n,this.titulo="Crear Unidad",this.estado=!1,this.listaAmbitoAcademico=[],this.formularioAmbitoAcademico=this.fb.group({nombre_ambito_academico:[n.nombre_ambito_academico,[s.kI.required,s.kI.minLength(3)]],estado_ambito_academico:[!0,s.kI.required]})}ngOnInit(){this.cargarUnidadModal()}campoNoEsValido(o){return this.formularioAmbitoAcademico.controls[o].errors&&this.formularioAmbitoAcademico.controls[o].touched}uperCase(){this.arregloObject={nombre_ambito_academico:this.formularioAmbitoAcademico.get("nombre_ambito_academico").value.toUpperCase(),estado_ambito_academico:this.formularioAmbitoAcademico.get("estado_ambito_academico").value}}guardar(){if(this.formularioAmbitoAcademico.invalid)return this.formularioAmbitoAcademico.markAllAsTouched(),c().fire("Error","Lene los campos de forma correcta","error"),void console.log("asdfghjkl\xf1");this.data.id_ambito_academico&&(this.uperCase(),this.AdministradorService.actualizarAmbitoAcademico(this.data.id_ambito_academico,this.arregloObject).subscribe({next:o=>{c().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info")},error:o=>{c().fire("Error","Error al Actualizar","error")}})),this.data.id_ambito_academico||(this.uperCase(),this.AdministradorService.guardarAmbitoAcademico(this.arregloObject).subscribe({next:o=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),c().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.formularioAmbitoAcademico.reset({estado_ambito_academico:!0})},error:o=>{c().fire("Error","Error al ingresar, el codigo debe ser UNICO","error")}}))}cargarUnidadModal(){this.data.id_ambito_academico&&(this.estado=!0,this.titulo="Actualizar Ambito  academico",this.AdministradorService.obtenerUnidadId(this.data.id_ambito_academico))}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(l.uw),t.Y36(s.qu),t.Y36(_),t.Y36(l.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["modal-ambito-academico-1"]],decls:15,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup","ngSubmit"],[1,"mat-typography","abc"],[1,"modal-body","col-12"],["formControlName","nombre_ambito_academico","type","text","placeholder","Ingrese Nombre Ambito Academico",1,"form-control","border-0","border-bottom","input-upper"],["class","form-text text-danger",4,"ngIf"],["class","mt-1 col-5",4,"ngIf"],["align","end",1,"mt-5"],["mat-raised-button","","color","warn","mat-button","","mat-dialog-close","",1,"me-2"],[4,"ngIf"],[1,"form-text","text-danger"],[1,"mt-1","col-5"],["formControlName","estado_ambito_academico",1,"form-select","form-select-sm"],[3,"value"],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button",""],["type","submit","mat-raised-button","","color","primary","mat-button","","cdkFocusInitial","","mat-button","",3,"mat-dialog-close"]],template:function(o,e){1&o&&(t.TgZ(0,"h2",0),t._uU(1,"Crear Ambito Academico"),t.qZA(),t.TgZ(2,"form",1),t.NdJ("ngSubmit",function(){return e.guardar()}),t.TgZ(3,"mat-dialog-content",2)(4,"div",3)(5,"span"),t._uU(6,"Nombre Ambito Academico"),t.qZA(),t._UZ(7,"input",4),t.YNc(8,yo,2,0,"span",5),t.qZA(),t.YNc(9,Io,9,3,"div",6),t.qZA(),t.TgZ(10,"mat-dialog-actions",7)(11,"button",8),t._uU(12,"Cancel"),t.qZA(),t.YNc(13,Do,3,0,"div",9),t.YNc(14,No,3,1,"div",9),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("formGroup",e.formularioAmbitoAcademico),t.xp6(6),t.Q6J("ngIf",e.campoNoEsValido("nombre_ambito_academico")),t.xp6(1),t.Q6J("ngIf",1==e.estado),t.xp6(4),t.Q6J("ngIf",0==e.estado),t.xp6(1),t.Q6J("ngIf",1==e.estado))},directives:[l.uh,s._Y,s.JL,s.sg,l.xY,s.Fj,s.JJ,s.u,u.O5,s.EJ,s.YN,s.Kr,l.H8,A.lW,l.ZT],styles:[w]}),i})(),Oo=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-estadisticas"]],decls:2,vars:0,template:function(o,e){1&o&&(t.TgZ(0,"p"),t._uU(1,"estadisticas works!"),t.qZA())},styles:[""]}),i})();var Jo=m(5736),Yo=m(5042),So=m(508),C=m(7322),v=m(6856),Fo=m(9257);const $o=[{path:"",component:J,children:[{path:"home",component:Y},{path:"usuarios",component:nt},{path:"debilidades",component:Rt},{path:"unidades",component:bt},{path:"criterios",component:io},{path:"procesos",component:Et},{path:"tipo-registro",component:po},{path:"ambito-geografico",component:To},{path:"ambito-academico",component:wo},{path:"estadisticas",component:Oo},{path:"graficos",component:(()=>{class i{constructor(o,e,r,n){this.usuarioService=o,this.fb=e,this.graficosGlobales=r,this.dateAdapter=n,this.barChartData={labels:[],datasets:[{data:[],label:""},{data:[],label:""}]},this.pieChartData={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData2={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData3={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData4={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData5={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pipe=new u.uU("en-US"),this.start1="",this.end1="",this.dateStart="",this.dateEnd="",this.FormularioDac=this.fb.group({start:[,[s.kI.required]],end:[,[s.kI.required]]}),this.usuario=o.usuario,this.id_unidad=this.usuario.fk_id_unidad}ngOnInit(){}formatDate(){this.start1=this.FormularioDac.value.start,this.end1=this.FormularioDac.value.end,this.dateStart=this.pipe.transform(this.start1,"dd-MM-yyyy"),this.dateEnd=this.pipe.transform(this.end1,"dd-MM-yyyy")}pieChartDataUser(){this.formatDate(),this.graficosGlobales.obtenerCantidadUsuariosSistema(this.dateStart,this.dateEnd).subscribe(o=>{o=o.resultado[0],console.log(Object.values(o.aprobadas),"wwewewe: ",o),this.barChartData={labels:["EVIDENCIAS"],datasets:[{data:Object.values(o.aprobadas),label:"APROBADAS",backgroundColor:["#00E69A"],hoverBackgroundColor:"#3007E0"},{data:Object.values(o.rechazadas),label:"RECHAZADAS",backgroundColor:["#0800F5"],hoverBackgroundColor:"#3007E0"},{data:Object.values(o.pendientes),label:"PENDIENTES",backgroundColor:["#1EE6D5"],hoverBackgroundColor:"#3007E0"}]}}),console.log(this.dateStart,"sswws",this.dateEnd),this.graficosGlobales.obtenerCantidadEvidenciasGraficosUnidades(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(o=>{let r,n,e=0,d=[],p=[];for(;e<o.resultado.length;e++)r=o.resultado[e],n=r.cantevidenciasunidad,r=r.nombre_unidad,d.push(r),p.push(n),console.log(p,"sswws",d),this.pieChartData={labels:d,datasets:[{data:p,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosGlobales.obtenerCantidadEvidenciasGraficosTiposRegistros(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(o=>{let r,n,e=0,d=[],p=[];for(;e<o.resultado.length;e++)r=o.resultado[e],n=r.cantevidenciasregistros,r=r.nombre_registros,d.push(r),p.push(n),console.log(p,"sswws",d),this.pieChartData2={labels:d,datasets:[{data:p,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosGlobales.obtenerCantidadEvidenciasGraficosDebilidades(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(o=>{let r,n,e=0,d=[],p=[];for(;e<o.resultado.length;e++)r=o.resultado[e],n=r.cantevidenciasdebilidades,r=r.nombre_debilidades,d.push(r),p.push(n),console.log(p,"sswws",d),this.pieChartData3={labels:d,datasets:[{data:p,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosGlobales.obtenerCantidadEvidenciasGraficosCriterios(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(o=>{let r,n,e=0,d=[],p=[];for(;e<o.resultado.length;e++)r=o.resultado[e],n=r.cantevidenciascriterios,r=r.nombre_criterios,d.push(r),p.push(n),console.log(p,"sswws",d),this.pieChartData4={labels:d,datasets:[{data:p,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosGlobales.obtenerCantidadEvidenciasGraficosAmbitoAcademico(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(o=>{let r,n,e=0,d=[],p=[];for(;e<o.resultado.length;e++)r=o.resultado[e],n=r.cantevidenciasambitoacademico,r=r.nombre_ambito_academico,d.push(r),p.push(n),console.log(p,"sswws",d),this.pieChartData5={labels:d,datasets:[{data:p,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}})}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(Jo.r),t.Y36(s.qu),t.Y36(Yo.T),t.Y36(So._A))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-graficos"]],decls:51,vars:14,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"bg-light","col-10","mx-auto"],[1,"card"],[1,"card-body"],[1,"container"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],["src","./assets/img/ucm-logo1.jpeg","alt","UCM",1,"col-4","mb-3"],[1,"text-center","fs-2"],[1,"text-center","fs-5","mb-5"],[1,"container","px-1","px-sm-5","mx-auto","mb-5"],[1,"flex-row","d-flex","justify-content-center"],[1,"col-lg-6","col-11","px-1"],[1,"input-group","input-daterange"],[1,"col-sm-4"],["appearance","fill"],[3,"rangePicker"],["matStartDate","","formControlName","start","placeholder","Fecha de inicio"],["matEndDate","","formControlName","end","placeholder","Fecha final"],["matSuffix","",3,"for"],["picker",""],[1,"container","mb-5"],[1,"bg-light","col-12","mx-auto","mb-3"],[1,"d-grid","gap-2"],["type","submit","data-bs-toggle","collapse","data-bs-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-outline-secondary",3,"disabled"],["id","collapseExample",1,"collapse"],[1,"card","card-body"],[2,"display","block"],[3,"barChartData","pieChartData","pieChartData2","pieChartData3","pieChartData4","pieChartData5"]],template:function(o,e){if(1&o&&(t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1),t.TgZ(3,"title"),t._uU(4,"Hola mundo con Javascript - victor robles"),t.qZA(),t._UZ(5,"meta",2),t.qZA(),t.TgZ(6,"body",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"form",7),t.NdJ("ngSubmit",function(){return e.pieChartDataUser()}),t.TgZ(11,"div",8),t._UZ(12,"img",9),t.TgZ(13,"h3",10),t._uU(14,"Universidad Catolica del Maule"),t.qZA(),t.TgZ(15,"h6",11),t._uU(16,"Estadisticas y Graficos"),t.qZA()(),t.TgZ(17,"div",12)(18,"section",6)(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"mat-form-field",17)(24,"mat-label"),t._uU(25,"Seleccione el rango de fecha"),t.qZA(),t.TgZ(26,"mat-date-range-input",18),t._UZ(27,"input",19)(28,"input",20),t.qZA(),t.TgZ(29,"mat-hint"),t._uU(30,"MM/DD/YYYY \u2013 MM/DD/YYYY"),t.qZA(),t._UZ(31,"mat-datepicker-toggle",21)(32,"mat-date-range-picker",null,22),t.qZA(),t.TgZ(34,"p"),t._uU(35),t.ALo(36,"json"),t.qZA(),t.TgZ(37,"p"),t._uU(38,"valid"),t.qZA(),t.TgZ(39,"p"),t._uU(40),t.qZA()()()()()()(),t.TgZ(41,"div",23)(42,"body",24)(43,"div",25)(44,"button",26),t._uU(45," Evidencias Encontradas en el rango de fechas "),t.qZA()(),t.TgZ(46,"div",27)(47,"div",28)(48,"div",8)(49,"div",29),t._UZ(50,"app-graficos-gloval",30),t.qZA()()()()()()()()()()()()),2&o){const r=t.MAs(33);t.xp6(10),t.Q6J("formGroup",e.FormularioDac),t.xp6(16),t.Q6J("rangePicker",r),t.xp6(5),t.Q6J("for",r),t.xp6(4),t.hij("Selected range: ",t.lcZ(36,12,e.FormularioDac.value),""),t.xp6(5),t.hij("Selected range: ",e.FormularioDac.valid,""),t.xp6(4),t.Q6J("disabled",e.FormularioDac.invalid),t.xp6(6),t.Q6J("barChartData",e.barChartData)("pieChartData",e.pieChartData)("pieChartData2",e.pieChartData2)("pieChartData3",e.pieChartData3)("pieChartData4",e.pieChartData4)("pieChartData5",e.pieChartData5)}},directives:[s._Y,s.JL,s.sg,C.KE,C.hX,v.wx,v.zY,s.Fj,s.JJ,s.u,v.By,C.bx,v.nW,C.R9,v._g,Fo.l],pipes:[u.Ts],styles:[""]}),i})()},{path:"mi-perfil",component:m(442).f},{path:"**",redirectTo:"home"}]}];let Qo=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[f.Bz.forChild($o)],f.Bz]}),i})();var Go=m(443),M=m(1210),Ro=m(3423),Lo=m(7958),jo=m(4679);let zo=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[u.ez,Qo,Go.R,M.h,s.UX,Ro.d,Lo.c,jo.w,M.h]]}),i})()}}]);