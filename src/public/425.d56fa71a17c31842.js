"use strict";(self.webpackChunkevidencia=self.webpackChunkevidencia||[]).push([[425],{2425:(vi,A,c)=>{c.r(A),c.d(A,{UsuarioDirectorModule:()=>_i});var u=c(9808),e=c(5e3),D=c(8462);let F=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-menu"]],decls:1,vars:0,template:function(i,r){1&i&&e._UZ(0,"app-menu-usuarionormal")},directives:[D.b],styles:[""]}),o})(),N=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:10,vars:0,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-6","text-center"],[1,"fs-1","text-dark"],[1,"fs-3","text-dark"],["src","./assets/img/Escudo_UCM.png","alt","ucm",1,"h-75","w-75"],[1,"col-lg-6","col-md-6","col-sm-6","mt-5"],["src","./assets/img/ucm-logo1.jpeg","alt","ucm",1,"img-fluid","mt-5"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"BIENVENIDO"),e.qZA(),e.TgZ(5,"h2",4),e._uU(6,"Sistema Evidencias"),e.qZA(),e._UZ(7,"img",5),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"img",7),e.qZA()()())},styles:[""]}),o})();var _=c(4100),I=c(5226),m=c.n(I),a=c(3075),S=c(7579),y=c(2340),J=c(520);let v=(()=>{class o{constructor(i){this.http=i,this.urlBackend=y.N.urlBackend,this._refresh$=new S.x}get refresh$(){return this._refresh$}obtenerUnidad(){return this.http.get(`${this.urlBackend}/director/unidad`)}obtenertiposRegistros(){return this.http.get(`${this.urlBackend}/director/tiporegistro`)}obtenerAmbitoAcademico(){return this.http.get(`${this.urlBackend}/director/ambitoacademico`)}obtenerCriterio(){return this.http.get(`${this.urlBackend}/director/criterio`)}obtenerProcesos(){return this.http.get(`${this.urlBackend}/director/proceso`)}obtenerAmbitoGeografico(){return this.http.get(`${this.urlBackend}/director/ambitogeografico`)}obtenerDebilidad(){return this.http.get(`${this.urlBackend}/director/debilidad`)}guardarEvidencia(i){return this.http.post(`${this.urlBackend}/director`,i)}obtenerEvidencias(i){return this.http.get(`${this.urlBackend}/ver-director/evidencias/${i}`)}borrarEvidencia(i){return this.http.delete(`${this.urlBackend}/ver-director/`+i)}obtenerEvidenciaId(i){return this.http.get(`${this.urlBackend}/ver-director/${i}`)}actualizarEvidencia(i,r){return this.http.put(`${this.urlBackend}/ver-director/${i}`,r)}obtenerEvidenciasDirector(i){return this.http.get(`${this.urlBackend}/misEvidencias-director/Evidencias/${i}`)}borrarMiEvidenciaDirector(i){return this.http.delete(`${this.urlBackend}/misEvidencias-director/`+i)}}return o.\u0275fac=function(i){return new(i||o)(e.LFG(J.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var p=c(5736),E=c(924),C=c(1102);const Q=["termino"];function Y(o,t){1&o&&(e.TgZ(0,"td",31),e._UZ(1,"i",32)(2,"i",32),e.qZA())}function O(o,t){1&o&&(e.TgZ(0,"td",31),e._UZ(1,"i",33)(2,"i",32),e.qZA())}function V(o,t){1&o&&(e.TgZ(0,"td",31),e._UZ(1,"i",33)(2,"i",33),e.qZA())}function L(o,t){1&o&&(e.TgZ(0,"td",31),e._UZ(1,"i",33)(2,"i",34),e.qZA())}function j(o,t){1&o&&(e.TgZ(0,"td",31),e._UZ(1,"i",34),e.qZA())}const B=function(o,t){return["../crear-evidencia-editar",o,t]};function w(o,t){if(1&o&&e._UZ(0,"i",35),2&o){const i=e.oxw().$implicit;e.Q6J("routerLink",e.WLB(1,B,i.id_evidencias,i.numero_folio))}}function M(o,t){if(1&o){const i=e.EpF();e.TgZ(0,"i",36),e.NdJ("click",function(){e.CHM(i);const s=e.oxw().$implicit;return e.oxw().borrarEvidencia(s.id_evidencias)}),e.qZA()}}const P=function(o,t){return["../ver-todas-evidencias",o,t]};function R(o,t){if(1&o&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.YNc(14,Y,3,0,"td",27),e.YNc(15,O,3,0,"td",27),e.YNc(16,V,3,0,"td",27),e.YNc(17,L,3,0,"td",27),e.YNc(18,j,2,0,"td",27),e.TgZ(19,"td"),e._UZ(20,"i",28),e.YNc(21,w,1,4,"i",29),e.YNc(22,M,1,0,"i",30),e.qZA()()),2&o){const i=t.$implicit;e.xp6(2),e.Oqu(i.numero_folio),e.xp6(2),e.Oqu(e.xi3(5,14,i.fecha_evidencia,"shortDate")),e.xp6(3),e.Oqu(i.nombre_unidad),e.xp6(2),e.Oqu(i.nombre_procesos),e.xp6(2),e.Oqu(i.nombre_registros),e.xp6(2),e.Oqu(i.nombre_ambito_academico),e.xp6(1),e.Q6J("ngIf",0==i.estado_evidencia_responsable&&0==i.revisado_reponsable&&0==i.estado_evidencia_dac&&0==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",1==i.estado_evidencia_responsable&&1==i.revisado_reponsable&&0==i.estado_evidencia_dac&&0==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",1==i.estado_evidencia_responsable&&1==i.revisado_reponsable&&1==i.estado_evidencia_dac&&1==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",1==i.estado_evidencia_responsable&&1==i.revisado_reponsable&&2==i.estado_evidencia_dac&&1==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",2==i.estado_evidencia_responsable&&1==i.revisado_reponsable&&0==i.estado_evidencia_dac&&0==i.revisado_dac),e.xp6(2),e.Q6J("routerLink",e.WLB(17,P,i.id_evidencias,i.numero_folio)),e.xp6(1),e.Q6J("ngIf",0==i.estado_evidencia_responsable&&0==i.revisado_reponsable&&0==i.estado_evidencia_dac&&0==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",0==i.estado_evidencia_responsable&&0==i.revisado_reponsable&&0==i.estado_evidencia_dac&&0==i.revisado_dac)}}let G=(()=>{class o{constructor(i,r,s){var n;this.directorService=i,this.usuarioService=r,this.fb=s,this.listaEvidencias=[],this.filterPost="",this.sel="",this.FormularioDirector=this.fb.group({estado_select:["",[a.kI.required]]}),null===(n=this.FormularioDirector.get("estado_select"))||void 0===n||n.valueChanges.subscribe(d=>{this.sel=d}),this.usuario=r.usuario}ngOnInit(){this.obtenerEvidencia()}onKeyUp(i){5!==i.length&&9!==i.length||(i=i.concat("-".toString()));let r=this.txtTermino.nativeElement.value=i;this.filterPost=r}obtenerEvidencia(){this.directorService.obtenerEvidenciasDirector(this.usuario.rut).subscribe(i=>{console.log("INFO MIS EVIDENCIAS: ",i),this.listaEvidencias=i,this.listaEvidencias.reverse()})}borrarEvidencia(i){m().fire({title:"\xbfEst\xe1 seguro?",text:`\xa1La Evidencia con codigo ${i} sera eliminada!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"\xa1 Si, borrar !"}).then(r=>{r.isConfirmed&&this.directorService.borrarEvidencia(i).subscribe({next:s=>{m().fire("Eliminado!","Su Evidencia ha sido eliminado.","success"),this.obtenerEvidencia()},error:s=>{m().fire("Error","Error al eliminar, esta Evidencia esta en uso","error"),console.log(s)}})})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(v),e.Y36(p.r),e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver-evidencias"]],viewQuery:function(i,r){if(1&i&&e.Gf(Q,5),2&i){let s;e.iGM(s=e.CRH())&&(r.txtTermino=s.first)}},decls:50,vars:8,consts:[[1,"container"],[1,"row","mt-4"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-11","mb-4"],[1,"col-md-6","mb-2"],["oninput","this.value = this.value.toUpperCase()","type","text","placeholder","Buscar por codigo",1,"fs-5","col-md-9","border-0","border-bottom",3,"keyup"],["termino",""],[1,"col-auto","mt-2"],[1,"fs-6"],[1,"col-auto","mb-1"],[3,"formGroup"],["formControlName","estado_select","mat-button","","id","cars","name","cars",1,"estado"],["value",""],["value","0"],["value","1"],["value","2"],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],["scope","row"],["class","col-12 col-md-2",4,"ngIf"],[1,"cursor-pointer","text-success","fs-3","fa","fa-solid","fa-eye","p-2",3,"routerLink"],["class","cursor-pointer text-primary fs-3 fa-solid fa-pen-to-square",3,"routerLink",4,"ngIf"],["class","cursor-pointer text-primary fs-3 fa fa-solid text-danger fa-trash p-2",3,"click",4,"ngIf"],[1,"col-12","col-md-2"],[1,"text-dark","me-2","fs-3","fa-solid","fa-question"],[1,"text-success","me-2","fs-3","fa-solid","fa-user-check"],[1,"text-danger","me-2","fs-3","fa-solid","fa-user-xmark"],[1,"cursor-pointer","text-primary","fs-3","fa-solid","fa-pen-to-square",3,"routerLink"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","text-danger","fa-trash","p-2",3,"click"]],template:function(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Evidencias"),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"input",8,9),e.NdJ("keyup",function(){e.CHM(s);const d=e.MAs(10);return r.onKeyUp(d.value)}),e.qZA()(),e.TgZ(11,"div",10)(12,"span",11)(13,"strong"),e._uU(14,"Filtro Por Estados: "),e.qZA()()(),e.TgZ(15,"div",12)(16,"form",13)(17,"select",14)(18,"option",15),e._uU(19,"Todos"),e.qZA(),e.TgZ(20,"option",16),e._uU(21,"En Espera"),e.qZA(),e.TgZ(22,"option",17),e._uU(23,"Aprobada"),e.qZA(),e.TgZ(24,"option",18),e._uU(25,"Rechazada"),e.qZA()()()()(),e.TgZ(26,"div",19)(27,"table",20)(28,"thead",21)(29,"tr",22)(30,"th",23),e._uU(31,"Codigo"),e.qZA(),e.TgZ(32,"th",23),e._uU(33,"Fecha Envio"),e.qZA(),e.TgZ(34,"th",23),e._uU(35,"Unidad"),e.qZA(),e.TgZ(36,"th",23),e._uU(37,"Proceso"),e.qZA(),e.TgZ(38,"th",23),e._uU(39,"Registro"),e.qZA(),e.TgZ(40,"th",23),e._uU(41,"Ambito"),e.qZA(),e.TgZ(42,"th",23),e._uU(43,"Estado"),e.qZA(),e.TgZ(44,"th",23),e._uU(45,"Acci\xf3n"),e.qZA()()(),e.TgZ(46,"tbody",24),e.YNc(47,R,23,20,"tr",25),e.ALo(48,"filterState"),e.ALo(49,"select"),e.qZA()()()()()()()()}2&i&&(e.xp6(16),e.Q6J("formGroup",r.FormularioDirector),e.xp6(31),e.Q6J("ngForOf",e.xi3(48,2,e.xi3(49,5,r.listaEvidencias,r.sel),r.filterPost)))},directives:[a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,u.sg,u.O5,_.rH],pipes:[E.H,C.z,u.uU],styles:[".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#000}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}"]}),o})();function $(o,t){1&o&&(e.TgZ(0,"div",48)(1,"div")(2,"span",49),e._uU(3,"Estado De La Evidencia:"),e.qZA(),e.TgZ(4,"span",50),e._uU(5," Aprobado Por Responsable"),e.qZA(),e._UZ(6,"i",51),e.qZA()())}function H(o,t){1&o&&(e.TgZ(0,"div",48)(1,"div")(2,"span",49),e._uU(3,"Estado De La Evidencia:"),e.qZA(),e.TgZ(4,"span",52),e._uU(5," Rechazada Por Responsable"),e.qZA(),e._UZ(6,"i",53),e.qZA()())}function z(o,t){1&o&&(e.TgZ(0,"div",48)(1,"div")(2,"span",49),e._uU(3,"Estado De La Evidencia:"),e.qZA(),e.TgZ(4,"span",50),e._uU(5," Aprobado Por Dac"),e.qZA(),e._UZ(6,"i",51),e.qZA()())}function K(o,t){1&o&&(e.TgZ(0,"div",48)(1,"div")(2,"span",49),e._uU(3,"Estado De La Evidencia:"),e.qZA(),e.TgZ(4,"span",52),e._uU(5," Rechazada Por Dac"),e.qZA(),e._UZ(6,"i",53),e.qZA()())}function X(o,t){if(1&o&&(e.TgZ(0,"option",54),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_unidad)),e.xp6(2),e.hij(" ",i.nombre_unidad,"")}}function W(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Elija alguna Unidad"),e.qZA())}function ee(o,t){if(1&o&&(e.TgZ(0,"option",54),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_registros)),e.xp6(2),e.hij(" ",i.nombre_registros,"")}}function ie(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Elija algun registro"),e.qZA())}function oe(o,t){if(1&o&&(e.TgZ(0,"option",54),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_ambito_academico)),e.xp6(2),e.hij(" ",i.nombre_ambito_academico,"")}}function re(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Elija algun ambito academico"),e.qZA())}function te(o,t){if(1&o&&(e.TgZ(0,"option",54),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_criterios)),e.xp6(2),e.hij(" ",i.nombre_criterios,"")}}function ae(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Elija algun criterio"),e.qZA())}function se(o,t){if(1&o&&(e.TgZ(0,"div",18)(1,"span",19),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,1,i.fechaActual,"shortDate"))}}function ne(o,t){1&o&&(e.TgZ(0,"div",18),e._UZ(1,"input",56),e.qZA())}function de(o,t){if(1&o&&(e.TgZ(0,"option",54),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_procesos)),e.xp6(2),e.hij(" ",i.nombre_procesos,"")}}function ce(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Elija algun proceso"),e.qZA())}function le(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Ingrese numero mejoras"),e.qZA())}function ue(o,t){if(1&o&&(e.TgZ(0,"option",54),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_ambito_geografico)),e.xp6(2),e.Oqu(i.nombre_ambito_geografico)}}function me(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Elija algun ambito geografico"),e.qZA())}function _e(o,t){if(1&o&&(e.TgZ(0,"option",54),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_debilidades)),e.xp6(2),e.hij(" ",i.nombre_debilidades,"")}}function pe(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Elija alguna debilidad"),e.qZA())}function fe(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Ingrese alguna Descripcion"),e.qZA())}function ve(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Ingrese algun Resultado"),e.qZA())}function ge(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Ingrese algun Almacenamiento"),e.qZA())}function be(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Ingrese alguna Unidades y/o Personas Relacionadas a la evidencia"),e.qZA())}function he(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Ingrese alguna Palabra clave"),e.qZA())}function Ze(o,t){1&o&&(e.TgZ(0,"span",55),e._uU(1," Ingrese algun nombre corto"),e.qZA())}function Ae(o,t){1&o&&(e.TgZ(0,"button",57),e._uU(1,"Enviar"),e.qZA())}function Ee(o,t){if(1&o&&(e.TgZ(0,"option",47),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_unidad)),e.xp6(2),e.hij(" ",i.nombre_unidad,"")}}function Ce(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Elija alguna Unidad"),e.qZA())}function Te(o,t){if(1&o&&(e.TgZ(0,"option",47),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_registros)),e.xp6(2),e.hij(" ",i.nombre_registros,"")}}function Ue(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Elija algun registro"),e.qZA())}function qe(o,t){if(1&o&&(e.TgZ(0,"option",47),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_ambito_academico)),e.xp6(2),e.hij(" ",i.nombre_ambito_academico,"")}}function ke(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Elija algun ambito academico"),e.qZA())}function xe(o,t){if(1&o&&(e.TgZ(0,"option",47),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_criterios)),e.xp6(2),e.hij(" ",i.nombre_criterios,"")}}function De(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Elija algun criterio"),e.qZA())}function Fe(o,t){if(1&o&&(e.TgZ(0,"div",17)(1,"span",18),e._uU(2),e.ALo(3,"date"),e.qZA()()),2&o){const i=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,1,i.fechaActual,"shortDate"))}}function Ne(o,t){1&o&&(e.TgZ(0,"div",17),e._UZ(1,"input",49),e.qZA())}function Ie(o,t){if(1&o&&(e.TgZ(0,"option",47),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_procesos)),e.xp6(2),e.hij(" ",i.nombre_procesos,"")}}function Se(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Elija algun proceso"),e.qZA())}function ye(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Ingrese numero mejoras"),e.qZA())}function Je(o,t){if(1&o&&(e.TgZ(0,"option",47),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_ambito_geografico)),e.xp6(2),e.Oqu(i.nombre_ambito_geografico)}}function Qe(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Elija algun ambito geografico"),e.qZA())}function Ye(o,t){if(1&o&&(e.TgZ(0,"option",47),e.ALo(1,"number"),e._uU(2),e.qZA()),2&o){const i=t.$implicit;e.Q6J("value",e.lcZ(1,2,i.id_debilidades)),e.xp6(2),e.hij(" ",i.nombre_debilidades,"")}}function Oe(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Elija alguna debilidad"),e.qZA())}function Ve(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Ingrese alguna Descripcion"),e.qZA())}function Le(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Ingrese algun Resultado"),e.qZA())}function je(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Ingrese algun Almacenamiento"),e.qZA())}function Be(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Ingrese alguna Unidades y/o Personas Relacionadas a la evidencia"),e.qZA())}function we(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Ingrese alguna Palabra clave"),e.qZA())}function Me(o,t){1&o&&(e.TgZ(0,"span",48),e._uU(1," Ingrese algun nombre corto"),e.qZA())}const Pe=function(){return["../todas-evidencias"]};let Z=(()=>{class o{constructor(i,r,s,n,d,l){function U(pi,x){let b="";for(let h=0;h<pi;h++)b+=x.charAt(Math.floor(Math.random()*x.length)),(4===h||7===h)&&(b=b.concat("-".toString()));return b}this.fb=i,this.directorService=r,this.dp=s,this.router=n,this.activatedRouter=d,this.usuarioService=l,this.listaEvidenciaDirector=[],this.listaUnidad=[],this.listatiposRegistros=[],this.listaAmbitoAcademico=[],this.listaCriterio=[],this.listaProcesos=[],this.listaAmbitoGeografico=[],this.listaDebilidad=[],this.disabledInput=!1,this.titulo="Ver evidencias",this.estadoEvidencia=!1,this.obtenerNombreFolio="",this.id_rol=0,this.ocultarBtnSubmit=!1;let q="ABCDEFGHIJKLMNOPQRSTUVWXYZ";U(10,q),this.fechaActual=this.dp.transform(new Date,"yyyy-MM-dd"),this.FormularioDirector=this.fb.group({numero_folio:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],fecha_evidencia:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],numero_mejoras:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],descripcion:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],resultado:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],almacenamiento:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],unidades_personas_evidencias:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],palabra_clave:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],nombre_corto_evidencia:[{value:"",disabled:!0},[a.kI.required,a.kI.minLength(3)]],fk_id_usuario:[{value:"",disabled:!0}],fk_id_debilidades:[{value:"",disabled:!0},a.kI.required],fk_id_unidad:[{value:"",disabled:!0},a.kI.required],fk_id_criterios:[{value:"",disabled:!0},a.kI.required],fk_id_registros:[{value:"",disabled:!0},a.kI.required],fk_id_procesos:[{value:"",disabled:!0},a.kI.required],fk_id_ambito_academico:[{value:"",disabled:!0},a.kI.required],fk_id_ambito_geografico:[{value:"",disabled:!0},a.kI.required],correo_usuario:[{value:"",disabled:!0}]}),this.usuario=l.usuario,this.id=this.activatedRouter.snapshot.paramMap.get("id"),this.id?this.FormularioDirector.reset({fk_id_usuario:this.usuario.rut,correo_usuario:this.usuario.correo_usuario}):(this.FormularioDirector.reset({numero_folio:U(10,q),fecha_evidencia:this.fechaActual,fk_id_usuario:this.usuario.rut,correo_usuario:this.usuario.correo_usuario}),this.FormularioDirector.controls.numero_folio.enable(),this.FormularioDirector.controls.fecha_evidencia.enable(),this.FormularioDirector.controls.numero_mejoras.enable(),this.FormularioDirector.controls.descripcion.enable(),this.FormularioDirector.controls.resultado.enable(),this.FormularioDirector.controls.almacenamiento.enable(),this.FormularioDirector.controls.unidades_personas_evidencias.enable(),this.FormularioDirector.controls.palabra_clave.enable(),this.FormularioDirector.controls.nombre_corto_evidencia.enable(),this.FormularioDirector.controls.fk_id_debilidades.enable(),this.FormularioDirector.controls.fk_id_unidad.enable(),this.FormularioDirector.controls.fk_id_criterios.enable(),this.FormularioDirector.controls.fk_id_registros.enable(),this.FormularioDirector.controls.fk_id_procesos.enable(),this.FormularioDirector.controls.fk_id_ambito_academico.enable(),this.FormularioDirector.controls.fk_id_ambito_geografico.enable())}ngOnInit(){this.editarId(),this.obtenerUnidad(),this.obtenerTiposRegistros(),this.obtenerAmbitoAcademico(),this.obtenerCriterio(),this.obtenerProcesos(),this.obtenerAmbitoGeografico(),this.obtenerDebilidad()}Volver(){this.router.navigate(1==this.estado_evidencia_dac?["usuario-director/todas-evidencias"]:["usuario-director/mis-evidencias"])}campoNoEsValido(i){return this.FormularioDirector.controls[i].errors&&this.FormularioDirector.controls[i].touched}uperCase(){this.arregloObject={numero_folio:this.FormularioDirector.get("numero_folio").value.toUpperCase(),fecha_evidencia:this.FormularioDirector.get("fecha_evidencia").value,numero_mejoras:this.FormularioDirector.get("numero_mejoras").value.toUpperCase(),descripcion:this.FormularioDirector.get("descripcion").value.toUpperCase(),resultado:this.FormularioDirector.get("resultado").value.toUpperCase(),almacenamiento:this.FormularioDirector.get("almacenamiento").value.toUpperCase(),unidades_personas_evidencias:this.FormularioDirector.get("unidades_personas_evidencias").value.toUpperCase(),palabra_clave:this.FormularioDirector.get("palabra_clave").value.toUpperCase(),nombre_corto_evidencia:this.FormularioDirector.get("nombre_corto_evidencia").value.toUpperCase(),fk_id_usuario:this.FormularioDirector.get("fk_id_usuario").value,fk_id_debilidades:this.FormularioDirector.get("fk_id_debilidades").value,fk_id_unidad:this.FormularioDirector.get("fk_id_unidad").value,fk_id_criterios:this.FormularioDirector.get("fk_id_criterios").value,fk_id_registros:this.FormularioDirector.get("fk_id_registros").value,fk_id_procesos:this.FormularioDirector.get("fk_id_procesos").value,fk_id_ambito_academico:this.FormularioDirector.get("fk_id_ambito_academico").value,fk_id_ambito_geografico:this.FormularioDirector.get("fk_id_ambito_geografico").value,correo_usuario:this.FormularioDirector.get("correo_usuario").value}}guardar(){if(this.FormularioDirector.invalid)return this.FormularioDirector.markAllAsTouched(),void m().fire("Error","Llene los campos de forma correcta","error");this.uperCase(),this.FormularioDirector.controls.fk_id_usuario.enable(),this.directorService.guardarEvidencia(this.arregloObject).subscribe({next:i=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),m().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.router.navigate(["usuario-director/mis-evidencias"]),this.FormularioDirector.reset()},error:i=>{m().fire("Error","Error al ingresar, el codigo debe ser UNICO","error"),console.log(i)}})}obtenerUnidad(){this.directorService.obtenerUnidad().subscribe(i=>{this.listaUnidad=i.resultado})}obtenerTiposRegistros(){this.directorService.obtenertiposRegistros().subscribe(i=>{this.listatiposRegistros=i,this.listatiposRegistros.reverse()})}obtenerAmbitoAcademico(){this.directorService.obtenerAmbitoAcademico().subscribe(i=>{this.listaAmbitoAcademico=i,this.listaAmbitoAcademico.reverse()})}obtenerCriterio(){this.directorService.obtenerCriterio().subscribe(i=>{this.listaCriterio=i,this.listaCriterio.reverse()})}obtenerProcesos(){this.directorService.obtenerProcesos().subscribe(i=>{this.listaProcesos=i,this.listaProcesos.reverse()})}obtenerAmbitoGeografico(){this.directorService.obtenerAmbitoGeografico().subscribe(i=>{this.listaAmbitoGeografico=i,this.listaAmbitoGeografico.reverse()})}obtenerDebilidad(){this.directorService.obtenerDebilidad().subscribe(i=>{this.listaDebilidad=i,this.listaDebilidad.reverse()})}editarId(){null!==this.id&&(this.ocultarBtnSubmit=!0,this.estadoEvidencia=!0,this.titulo="Editar Evidencia",this.directorService.obtenerEvidenciaId(this.id).subscribe({next:i=>{console.log(i),this.obtenerNombreFolio=i[0].numero_folio,this.fechaActual=i[0].fecha_evidencia,this.id_rol=i[0].id_rol,this.estado_evidencia_responsable=i[0].estado_evidencia_responsable,this.estado_evidencia_dac=i[0].estado_evidencia_dac,this.FormularioDirector.patchValue({numero_folio:i[0].numero_folio,fecha_evidencia:i[0].fecha_evidencia,numero_mejoras:i[0].numero_mejoras,descripcion:i[0].descripcion,resultado:i[0].resultado,almacenamiento:i[0].almacenamiento,unidades_personas_evidencias:i[0].unidades_personas_evidencias,palabra_clave:i[0].palabra_clave,nombre_corto_evidencia:i[0].nombre_corto_evidencia,fk_id_debilidades:i[0].fk_id_debilidades,fk_id_unidad:i[0].fk_id_unidad,fk_id_criterios:i[0].fk_id_criterios,fk_id_registros:i[0].fk_id_registros,fk_id_procesos:i[0].fk_id_procesos,fk_id_ambito_academico:i[0].fk_id_ambito_academico,fk_id_ambito_geografico:i[0].fk_id_ambito_geografico})},error:i=>{console.log("EL ERROSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSsR ES: ",i)}}))}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(v),e.Y36(u.uU),e.Y36(_.F0),e.Y36(_.gz),e.Y36(p.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear-evidencias"]],decls:170,vars:34,consts:[["charset","utf-8"],[1,"bg-light","col-10","mx-auto"],[1,"card"],[1,"card-body"],["class","ms-5 mb-3 mt-2",4,"ngIf"],[1,"container"],[1,"row"],["src","./assets/img/ucm-logo1.jpeg","alt","UCM",1,"col-4","mb-3"],[1,"text-center","fs-2"],[1,"text-center","fs-5","mb-5"],[1,"container","mb-5"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-6"],[1,""],[1,"form-group","row"],["for","inputEmail3",1,"fw-bold","col-sm-3","col-form-label"],[1,"col-sm-8"],[1,"fs-5"],["novalidate","",1,"needs-validation"],[1,"row","g-3"],[1,"mb-3"],["formControlName","fk_id_usuario","type","text",1,"col-12"],["formControlName","fk_id_unidad","aria-label",".form-select-sm example",1,"border","borderyy","form-select","form-select-sm"],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["formControlName","fk_id_registros","aria-label",".form-select-sm example",1,"border","border","form-select","form-select-sm"],["formControlName","fk_id_ambito_academico","aria-label",".form-select-sm example",1,"border","border","form-select","form-select-sm"],["formControlName","fk_id_criterios","aria-label",".form-select-sm example",1,"border","border","form-select","form-select-sm"],["for","inputEmail3",1,"fw-bold","col-sm-4","col-form-label"],["class","col-sm-8",4,"ngIf"],["formControlName","correo_usuario","type","text",1,"col-12","border"],["formControlName","fk_id_procesos","aria-label",".form-select-sm example",1,"border","form-select","form-select-sm"],["formControlName","numero_mejoras","type","text",1,"col-12"],["formControlName","fk_id_ambito_geografico","aria-label",".form-select-sm example","selected","",1,"border","form-select","form-select-sm"],["formControlName","fk_id_debilidades","aria-label",".form-select-sm example",1,"border","form-select","form-select-sm"],["for","inputUnidad",1,"fw-bold","col-sm-3","col-form-label"],[1,"col-sm-9"],["formControlName","descripcion","autocomplete","off","id","exampleFormControlTextarea1","rows","3",1,"border","form-control"],["formControlName","resultado","autocomplete","off","id","exampleFormControlTextarea1","rows","3",1,"border","form-control"],["formControlName","almacenamiento","autocomplete","off","type","text","id","firstName","placeholder","","value","","required","",1,"border","form-control"],["formControlName","unidades_personas_evidencias","autocomplete","off","id","exampleFormControlTextarea1","rows","3",1,"border","form-control"],["formControlName","palabra_clave","type","text","autocomplete","off","id","firstName","placeholder","","value","","required","",1,"border","form-control"],["formControlName","nombre_corto_evidencia","autocomplete","off","type","text","id","firstName","placeholder","","value","","required","",1,"border","form-control"],[1,"mb-5","mt-5","row"],["class","btn btn-primary col-md-4 offset-md-1","type","submit",4,"ngIf"],["type","text",1,"btn","btn-danger","col-md-4","offset-md-2",3,"click"],[1,"ms-5","mb-3","mt-2"],[1,"fst-italic","fs-5"],[1,"text-success","fs-5","fst-italic"],[1,"fa-regular","fa-circle-check","fs-1","ms-3","text-center","bg-success","rounded-circle"],[1,"text-danger","fs-5","fst-italic"],[1,"fa-regular","fa-circle-xmark","fs-1","ms-3","bg-danger","rounded-circle"],[3,"value"],[1,"form-text","text-danger"],["type","text","formControlName","fecha_evidencia","readonly","",1,"fs-6","border-0","form-control-lg"],["type","submit",1,"btn","btn-primary","col-md-4","offset-md-1"]],template:function(i,r){1&i&&(e.TgZ(0,"head"),e._UZ(1,"meta",0),e.TgZ(2,"title"),e._uU(3,"Hola mundo con Javascript - victor robles"),e.qZA()(),e.TgZ(4,"body",1)(5,"div",2)(6,"div",3),e.YNc(7,$,7,0,"div",4),e.YNc(8,H,7,0,"div",4),e.YNc(9,z,7,0,"div",4),e.YNc(10,K,7,0,"div",4),e.TgZ(11,"div",5)(12,"div",6),e._UZ(13,"img",7),e.TgZ(14,"h3",8),e._uU(15,"Universidad Catolica del Maule"),e.qZA(),e.TgZ(16,"h6",9),e._uU(17,"Departamento de Aseguramiento de la Calidad"),e.qZA()()(),e.TgZ(18,"div",10)(19,"h2",11),e._uU(20,"Documento del Sistema de Gestion de Calidad"),e.qZA(),e.TgZ(21,"h3",11),e._uU(22,"Registros del Sistema de Gestion de Calidad"),e.qZA(),e.TgZ(23,"h4",11),e._uU(24,"Identificacion de Registros"),e.qZA()(),e.TgZ(25,"form",12),e.NdJ("ngSubmit",function(){return r.guardar()}),e.TgZ(26,"div",5)(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",16)(31,"label",17),e._uU(32,"N\xb0 folio"),e.qZA(),e.TgZ(33,"div",18)(34,"span",19),e._uU(35),e.qZA()()()(),e.TgZ(36,"form",20)(37,"div",21)(38,"div",22)(39,"div",16)(40,"label",17),e._uU(41,"Usuario"),e.qZA(),e.TgZ(42,"div",18),e._UZ(43,"input",23),e.qZA()()(),e.TgZ(44,"div",22)(45,"div",16)(46,"label",17),e._uU(47,"Unidad"),e.qZA(),e.TgZ(48,"div",18)(49,"select",24),e.YNc(50,X,3,4,"option",25),e.qZA(),e.YNc(51,W,2,0,"span",26),e.qZA()()(),e.TgZ(52,"div",22)(53,"div",16)(54,"label",17),e._uU(55,"Tipo Registro"),e.qZA(),e.TgZ(56,"div",18)(57,"select",27),e.YNc(58,ee,3,4,"option",25),e.qZA(),e.YNc(59,ie,2,0,"span",26),e.qZA()()(),e.TgZ(60,"div",22)(61,"div",16)(62,"label",17),e._uU(63,"Ambito"),e.qZA(),e.TgZ(64,"div",18)(65,"select",28),e.YNc(66,oe,3,4,"option",25),e.qZA(),e.YNc(67,re,2,0,"span",26),e.qZA()()(),e.TgZ(68,"div",22)(69,"div",16)(70,"label",17),e._uU(71,"Criterio"),e.qZA(),e.TgZ(72,"div",18)(73,"select",29),e.YNc(74,te,3,4,"option",25),e.qZA(),e.YNc(75,ae,2,0,"span",26),e.qZA()()()()()(),e.TgZ(76,"div",14)(77,"div",16)(78,"label",30),e._uU(79,"fecha Actual"),e.qZA(),e.YNc(80,se,4,4,"div",31),e.YNc(81,ne,2,0,"div",31),e.qZA(),e.TgZ(82,"form",20)(83,"div",21)(84,"div",22)(85,"div",16)(86,"label",30),e._uU(87,"Email"),e.qZA(),e.TgZ(88,"div",18),e._UZ(89,"input",32),e.qZA()()(),e.TgZ(90,"div",22)(91,"div",16)(92,"label",30),e._uU(93,"Proceso"),e.qZA(),e.TgZ(94,"div",18)(95,"select",33),e.YNc(96,de,3,4,"option",25),e.qZA(),e.YNc(97,ce,2,0,"span",26),e.qZA()()(),e.TgZ(98,"div",22)(99,"div",16)(100,"label",30),e._uU(101,"N\xb0 Plan de Mejoras"),e.qZA(),e.TgZ(102,"div",18),e._UZ(103,"input",34),e.YNc(104,le,2,0,"span",26),e.qZA()()(),e.TgZ(105,"div",22)(106,"div",16)(107,"label",30),e._uU(108,"Ambito Geografico"),e.qZA(),e.TgZ(109,"div",18)(110,"select",35),e.YNc(111,ue,3,4,"option",25),e.qZA(),e.YNc(112,me,2,0,"span",26),e.qZA()()(),e.TgZ(113,"div",22)(114,"div",16)(115,"label",30),e._uU(116,"Debilidad"),e.qZA(),e.TgZ(117,"div",18)(118,"select",36),e.YNc(119,_e,3,4,"option",25),e.qZA(),e.YNc(120,pe,2,0,"span",26),e.qZA()()()()()()(),e.TgZ(121,"div",13)(122,"label",37),e._uU(123,"Descripcion"),e.qZA(),e.TgZ(124,"div",38),e._UZ(125,"textarea",39),e.YNc(126,fe,2,0,"span",26),e.qZA()(),e.TgZ(127,"div",13)(128,"label",37),e._uU(129,"Resultado"),e.qZA(),e.TgZ(130,"div",38),e._UZ(131,"textarea",40),e.YNc(132,ve,2,0,"span",26),e.qZA()(),e.TgZ(133,"div",13)(134,"label",37),e._uU(135,"Almacenamiento"),e.qZA(),e.TgZ(136,"div",38),e._UZ(137,"input",41),e.YNc(138,ge,2,0,"span",26),e.qZA()(),e.TgZ(139,"div",13)(140,"label",37),e._uU(141,"Unidades y/o Personas Relacionadas a la evidencia"),e.qZA(),e.TgZ(142,"div",38),e._UZ(143,"textarea",42),e.YNc(144,be,2,0,"span",26),e.qZA()(),e.TgZ(145,"div",13)(146,"label",37),e._uU(147,"Palabra clave"),e.qZA(),e.TgZ(148,"div",38),e._UZ(149,"input",43),e.YNc(150,he,2,0,"span",26),e.qZA()(),e.TgZ(151,"div",13)(152,"label",37),e._uU(153,"Nombre corto evidencia"),e.qZA(),e.TgZ(154,"div",38),e._UZ(155,"input",44),e.YNc(156,Ze,2,0,"span",26),e.qZA()(),e.TgZ(157,"div",45),e.YNc(158,Ae,2,0,"button",46),e.TgZ(159,"button",47),e.NdJ("click",function(){return r.Volver()}),e._uU(160,"Volver"),e.qZA()()()()()()(),e.TgZ(161,"span"),e._uU(162,"VALID"),e.qZA(),e.TgZ(163,"pre"),e._uU(164),e.qZA(),e.TgZ(165,"span"),e._uU(166,"VALUE"),e.qZA(),e.TgZ(167,"pre"),e._uU(168),e.ALo(169,"json"),e.qZA()),2&i&&(e.xp6(7),e.Q6J("ngIf",1==r.estado_evidencia_responsable),e.xp6(1),e.Q6J("ngIf",2==r.estado_evidencia_responsable),e.xp6(1),e.Q6J("ngIf",1==r.estado_evidencia_dac),e.xp6(1),e.Q6J("ngIf",2==r.estado_evidencia_dac),e.xp6(15),e.Q6J("formGroup",r.FormularioDirector),e.xp6(10),e.Oqu(r.obtenerNombreFolio),e.xp6(15),e.Q6J("ngForOf",r.listaUnidad),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_unidad")),e.xp6(7),e.Q6J("ngForOf",r.listatiposRegistros),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_registros")),e.xp6(7),e.Q6J("ngForOf",r.listaAmbitoAcademico),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_ambito_academico")),e.xp6(7),e.Q6J("ngForOf",r.listaCriterio),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_criterios")),e.xp6(5),e.Q6J("ngIf",1==r.estadoEvidencia),e.xp6(1),e.Q6J("ngIf",0==r.estadoEvidencia),e.xp6(15),e.Q6J("ngForOf",r.listaProcesos),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_procesos")),e.xp6(7),e.Q6J("ngIf",r.campoNoEsValido("fk_id_ambito_geografico")),e.xp6(7),e.Q6J("ngForOf",r.listaAmbitoGeografico),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_ambito_geografico")),e.xp6(7),e.Q6J("ngForOf",r.listaDebilidad),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_debilidades")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("descripcion")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("resultado")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("almacenamiento")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("unidades_personas_evidencias")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("palabra_clave")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("nombre_corto_evidencia")),e.xp6(2),e.Q6J("ngIf",0==r.ocultarBtnSubmit),e.xp6(6),e.Oqu(r.FormularioDirector.valid),e.xp6(4),e.Oqu(e.lcZ(169,32,r.FormularioDirector.value)))},directives:[u.O5,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,u.sg,a.YN,a.Kr,a.Q7],pipes:[u.JJ,u.uU,u.Ts],styles:[".form-control-lg[_ngcontent-%COMP%]{outline:none}"]}),o})(),Re=(()=>{class o{constructor(i,r,s,n,d,l){this.fb=i,this.directorService=r,this.dp=s,this.router=n,this.activatedRouter=d,this.usuarioService=l,this.listaEvidenciaDirector=[],this.listaUnidad=[],this.listatiposRegistros=[],this.listaAmbitoAcademico=[],this.listaCriterio=[],this.listaProcesos=[],this.listaAmbitoGeografico=[],this.listaDebilidad=[],this.disabledInput=!1,this.titulo="Ver evidencias",this.estadoEvidencia=!1,this.obtenerNombreFolio="",this.id_rol=0,this.fechaActual=this.dp.transform(new Date,"yyyy-MM-dd"),this.FormularioDirectorEditar=this.fb.group({numero_folio:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],fecha_evidencia:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],numero_mejoras:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],descripcion:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],resultado:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],almacenamiento:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],unidades_personas_evidencias:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],palabra_clave:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],nombre_corto_evidencia:[{value:"",disabled:!1},[a.kI.required,a.kI.minLength(3)]],fk_id_usuario:[{value:"",disabled:!0}],fk_id_debilidades:[{value:"",disabled:!1},a.kI.required],fk_id_unidad:[{value:"",disabled:!1},a.kI.required],fk_id_criterios:[{value:"",disabled:!1},a.kI.required],fk_id_registros:[{value:"",disabled:!1},a.kI.required],fk_id_procesos:[{value:"",disabled:!1},a.kI.required],fk_id_ambito_academico:[{value:"",disabled:!1},a.kI.required],fk_id_ambito_geografico:[{value:"",disabled:!1},a.kI.required],correo_usuario:[{value:"",disabled:!0}]}),this.usuario=l.usuario,this.id=this.activatedRouter.snapshot.paramMap.get("id"),this.id?this.FormularioDirectorEditar.reset({fk_id_usuario:this.usuario.rut,correo_usuario:this.usuario.correo_usuario}):(this.FormularioDirectorEditar.reset({fecha_evidencia:this.fechaActual,fk_id_usuario:this.usuario.rut,correo_usuario:this.usuario.correo_usuario}),this.FormularioDirectorEditar.controls.numero_folio.enable(),this.FormularioDirectorEditar.controls.fecha_evidencia.enable(),this.FormularioDirectorEditar.controls.numero_mejoras.enable(),this.FormularioDirectorEditar.controls.descripcion.enable(),this.FormularioDirectorEditar.controls.resultado.enable(),this.FormularioDirectorEditar.controls.almacenamiento.enable(),this.FormularioDirectorEditar.controls.unidades_personas_evidencias.enable(),this.FormularioDirectorEditar.controls.palabra_clave.enable(),this.FormularioDirectorEditar.controls.nombre_corto_evidencia.enable(),this.FormularioDirectorEditar.controls.fk_id_debilidades.enable(),this.FormularioDirectorEditar.controls.fk_id_unidad.enable(),this.FormularioDirectorEditar.controls.fk_id_criterios.enable(),this.FormularioDirectorEditar.controls.fk_id_registros.enable(),this.FormularioDirectorEditar.controls.fk_id_procesos.enable(),this.FormularioDirectorEditar.controls.fk_id_ambito_academico.enable(),this.FormularioDirectorEditar.controls.fk_id_ambito_geografico.enable())}ngOnInit(){this.editarId(),this.obtenerUnidad(),this.obtenerTiposRegistros(),this.obtenerAmbitoAcademico(),this.obtenerCriterio(),this.obtenerProcesos(),this.obtenerAmbitoGeografico(),this.obtenerDebilidad()}Volver(){this.router.navigate(["usuario-director/todas-evidencias"])}campoNoEsValido(i){return this.FormularioDirectorEditar.controls[i].errors&&this.FormularioDirectorEditar.controls[i].touched}uperCase(){this.arregloObject={numero_folio:this.FormularioDirectorEditar.get("numero_folio").value.toUpperCase(),fecha_evidencia:this.FormularioDirectorEditar.get("fecha_evidencia").value,numero_mejoras:this.FormularioDirectorEditar.get("numero_mejoras").value.toUpperCase(),descripcion:this.FormularioDirectorEditar.get("descripcion").value.toUpperCase(),resultado:this.FormularioDirectorEditar.get("resultado").value.toUpperCase(),almacenamiento:this.FormularioDirectorEditar.get("almacenamiento").value.toUpperCase(),unidades_personas_evidencias:this.FormularioDirectorEditar.get("unidades_personas_evidencias").value.toUpperCase(),palabra_clave:this.FormularioDirectorEditar.get("palabra_clave").value.toUpperCase(),nombre_corto_evidencia:this.FormularioDirectorEditar.get("nombre_corto_evidencia").value.toUpperCase(),fk_id_usuario:this.FormularioDirectorEditar.get("fk_id_usuario").value,fk_id_debilidades:this.FormularioDirectorEditar.get("fk_id_debilidades").value,fk_id_unidad:this.FormularioDirectorEditar.get("fk_id_unidad").value,fk_id_criterios:this.FormularioDirectorEditar.get("fk_id_criterios").value,fk_id_registros:this.FormularioDirectorEditar.get("fk_id_registros").value,fk_id_procesos:this.FormularioDirectorEditar.get("fk_id_procesos").value,fk_id_ambito_academico:this.FormularioDirectorEditar.get("fk_id_ambito_academico").value,fk_id_ambito_geografico:this.FormularioDirectorEditar.get("fk_id_ambito_geografico").value,correo_usuario:this.FormularioDirectorEditar.get("correo_usuario").value}}guardar(){if(this.FormularioDirectorEditar.invalid)return this.FormularioDirectorEditar.markAllAsTouched(),void m().fire("Error","Llene los campos de forma correcta","error");this.id?(this.uperCase(),this.FormularioDirectorEditar.controls.fk_id_usuario.enable(),this.directorService.actualizarEvidencia(this.id,this.arregloObject).subscribe({next:i=>{m().fire("Actualizacion Exitosa","Datos Actualizados Con Exito ","info"),this.router.navigate(["usuario-director/mis-evidencias"]),this.FormularioDirectorEditar.reset({fk_id_usuario:this.usuario.id_usuarios})},error:i=>{m().fire("Error","Error al Actualizar","error"),console.log(i)}})):(this.uperCase(),this.FormularioDirectorEditar.controls.fk_id_usuario.enable(),this.directorService.guardarEvidencia(this.arregloObject).subscribe({next:i=>{console.log("sdasdfghjkl\xf1skasskdksjdksdjskld"),m().fire("exitosamente","Datos guardados satisfactoriamente","success"),this.router.navigate(["usuario-director/mis-evidencias"]),this.FormularioDirectorEditar.reset()},error:i=>{m().fire("Error","Error al ingresar, el codigo debe ser UNICO","error"),console.log(i)}}))}obtenerUnidad(){this.directorService.obtenerUnidad().subscribe(i=>{this.listaUnidad=i.resultado})}obtenerTiposRegistros(){this.directorService.obtenertiposRegistros().subscribe(i=>{this.listatiposRegistros=i,this.listatiposRegistros.reverse()})}obtenerAmbitoAcademico(){this.directorService.obtenerAmbitoAcademico().subscribe(i=>{this.listaAmbitoAcademico=i,this.listaAmbitoAcademico.reverse()})}obtenerCriterio(){this.directorService.obtenerCriterio().subscribe(i=>{this.listaCriterio=i,this.listaCriterio.reverse()})}obtenerProcesos(){this.directorService.obtenerProcesos().subscribe(i=>{this.listaProcesos=i,this.listaProcesos.reverse()})}obtenerAmbitoGeografico(){this.directorService.obtenerAmbitoGeografico().subscribe(i=>{this.listaAmbitoGeografico=i,this.listaAmbitoGeografico.reverse()})}obtenerDebilidad(){this.directorService.obtenerDebilidad().subscribe(i=>{this.listaDebilidad=i,this.listaDebilidad.reverse()})}editarId(){null!==this.id&&(this.estadoEvidencia=!0,this.titulo="Editar Evidencia",this.directorService.obtenerEvidenciaId(this.id).subscribe({next:i=>{this.obtenerNombreFolio=i[0].numero_folio,this.fechaActual=i[0].fecha_evidencia,this.id_rol=i[0].id_rol,this.FormularioDirectorEditar.patchValue({numero_folio:i[0].numero_folio,fecha_evidencia:i[0].fecha_evidencia,numero_mejoras:i[0].numero_mejoras,descripcion:i[0].descripcion,resultado:i[0].resultado,almacenamiento:i[0].almacenamiento,unidades_personas_evidencias:i[0].unidades_personas_evidencias,palabra_clave:i[0].palabra_clave,nombre_corto_evidencia:i[0].nombre_corto_evidencia,fk_id_debilidades:i[0].fk_id_debilidades,fk_id_unidad:i[0].fk_id_unidad,fk_id_criterios:i[0].fk_id_criterios,fk_id_registros:i[0].fk_id_registros,fk_id_procesos:i[0].fk_id_procesos,fk_id_ambito_academico:i[0].fk_id_ambito_academico,fk_id_ambito_geografico:i[0].fk_id_ambito_geografico})},error:i=>{console.log("EL ERROSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSSsR ES: ",i)}}))}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(a.qu),e.Y36(v),e.Y36(u.uU),e.Y36(_.F0),e.Y36(_.gz),e.Y36(p.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear-evidencias-editar"]],decls:167,vars:31,consts:[["charset","utf-8"],[1,"bg-light","col-10","mx-auto"],[1,"card"],[1,"card-body"],[1,"container"],[1,"row"],["src","./assets/img/ucm-logo1.jpeg","alt","UCM",1,"col-4","mb-3"],[1,"text-center","fs-2"],[1,"text-center","fs-5","mb-5"],[1,"container","mb-5"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"mb-3","row"],[1,"col-sm-6"],[1,""],[1,"form-group","row"],["for","inputEmail3",1,"fw-bold","col-sm-3","col-form-label"],[1,"col-sm-8"],[1,"fs-5"],["novalidate","",1,"needs-validation"],[1,"row","g-3"],[1,"mb-3"],["formControlName","fk_id_usuario","type","text",1,"col-12"],["formControlName","fk_id_unidad","aria-label",".form-select-sm example",1,"border","borderyy","form-select","form-select-sm"],[3,"value",4,"ngFor","ngForOf"],["class","form-text text-danger",4,"ngIf"],["formControlName","fk_id_registros","aria-label",".form-select-sm example",1,"border","border","form-select","form-select-sm"],["formControlName","fk_id_ambito_academico","aria-label",".form-select-sm example",1,"border","border","form-select","form-select-sm"],["formControlName","fk_id_criterios","aria-label",".form-select-sm example",1,"border","border","form-select","form-select-sm"],["for","inputEmail3",1,"fw-bold","col-sm-4","col-form-label"],["class","col-sm-8",4,"ngIf"],["formControlName","correo_usuario","type","text",1,"col-12","border"],["formControlName","fk_id_procesos","aria-label",".form-select-sm example",1,"border","form-select","form-select-sm"],["formControlName","numero_mejoras","type","text",1,"col-12"],["formControlName","fk_id_ambito_geografico","aria-label",".form-select-sm example","selected","",1,"border","form-select","form-select-sm"],["formControlName","fk_id_debilidades","aria-label",".form-select-sm example",1,"border","form-select","form-select-sm"],["for","inputUnidad",1,"fw-bold","col-sm-3","col-form-label"],[1,"col-sm-9"],["formControlName","descripcion","autocomplete","off","id","exampleFormControlTextarea1","rows","3",1,"border","form-control"],["formControlName","resultado","autocomplete","off","id","exampleFormControlTextarea1","rows","3",1,"border","form-control"],["formControlName","almacenamiento","autocomplete","off","type","text","id","firstName","placeholder","","value","","required","",1,"border","form-control"],["formControlName","unidades_personas_evidencias","autocomplete","off","id","exampleFormControlTextarea1","rows","3",1,"border","form-control"],["formControlName","palabra_clave","type","text","autocomplete","off","id","firstName","placeholder","","value","","required","",1,"border","form-control"],["formControlName","nombre_corto_evidencia","autocomplete","off","type","text","id","firstName","placeholder","","value","","required","",1,"border","form-control"],[1,"mb-5","mt-5","row"],["type","submit",1,"btn","btn-primary","col-md-4","offset-md-1"],["type","text",1,"btn","btn-danger","col-md-4","offset-md-1",3,"routerLink","click"],[3,"value"],[1,"form-text","text-danger"],["type","text","formControlName","fecha_evidencia","readonly","",1,"fs-6","border-0","form-control-lg"]],template:function(i,r){1&i&&(e.TgZ(0,"head"),e._UZ(1,"meta",0),e.TgZ(2,"title"),e._uU(3,"Hola mundo con Javascript - victor robles"),e.qZA()(),e.TgZ(4,"body",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5),e._UZ(9,"img",6),e.TgZ(10,"h3",7),e._uU(11,"Universidad Catolica del Maule"),e.qZA(),e.TgZ(12,"h6",8),e._uU(13,"Departamento de Aseguramiento de la Calidad"),e.qZA()()(),e.TgZ(14,"div",9)(15,"h2",10),e._uU(16,"Documento del Sistema de Gestion de Calidad"),e.qZA(),e.TgZ(17,"h3",10),e._uU(18,"Registros del Sistema de Gestion de Calidad"),e.qZA(),e.TgZ(19,"h4",10),e._uU(20,"Identificacion de Registros"),e.qZA()(),e.TgZ(21,"form",11),e.NdJ("ngSubmit",function(){return r.guardar()}),e.TgZ(22,"div",4)(23,"div",12)(24,"div",13)(25,"div",14)(26,"div",15)(27,"label",16),e._uU(28,"N\xb0 folio"),e.qZA(),e.TgZ(29,"div",17)(30,"span",18),e._uU(31),e.qZA()()()(),e.TgZ(32,"form",19)(33,"div",20)(34,"div",21)(35,"div",15)(36,"label",16),e._uU(37,"Usuario"),e.qZA(),e.TgZ(38,"div",17),e._UZ(39,"input",22),e.qZA()()(),e.TgZ(40,"div",21)(41,"div",15)(42,"label",16),e._uU(43,"Unidad"),e.qZA(),e.TgZ(44,"div",17)(45,"select",23),e.YNc(46,Ee,3,4,"option",24),e.qZA(),e.YNc(47,Ce,2,0,"span",25),e.qZA()()(),e.TgZ(48,"div",21)(49,"div",15)(50,"label",16),e._uU(51,"Tipo Registro"),e.qZA(),e.TgZ(52,"div",17)(53,"select",26),e.YNc(54,Te,3,4,"option",24),e.qZA(),e.YNc(55,Ue,2,0,"span",25),e.qZA()()(),e.TgZ(56,"div",21)(57,"div",15)(58,"label",16),e._uU(59,"Ambito"),e.qZA(),e.TgZ(60,"div",17)(61,"select",27),e.YNc(62,qe,3,4,"option",24),e.qZA(),e.YNc(63,ke,2,0,"span",25),e.qZA()()(),e.TgZ(64,"div",21)(65,"div",15)(66,"label",16),e._uU(67,"Criterio"),e.qZA(),e.TgZ(68,"div",17)(69,"select",28),e.YNc(70,xe,3,4,"option",24),e.qZA(),e.YNc(71,De,2,0,"span",25),e.qZA()()()()()(),e.TgZ(72,"div",13)(73,"div",15)(74,"label",29),e._uU(75,"fecha Actual"),e.qZA(),e.YNc(76,Fe,4,4,"div",30),e.YNc(77,Ne,2,0,"div",30),e.qZA(),e.TgZ(78,"form",19)(79,"div",20)(80,"div",21)(81,"div",15)(82,"label",29),e._uU(83,"Email"),e.qZA(),e.TgZ(84,"div",17),e._UZ(85,"input",31),e.qZA()()(),e.TgZ(86,"div",21)(87,"div",15)(88,"label",29),e._uU(89,"Proceso"),e.qZA(),e.TgZ(90,"div",17)(91,"select",32),e.YNc(92,Ie,3,4,"option",24),e.qZA(),e.YNc(93,Se,2,0,"span",25),e.qZA()()(),e.TgZ(94,"div",21)(95,"div",15)(96,"label",29),e._uU(97,"N\xb0 Plan de Mejoras"),e.qZA(),e.TgZ(98,"div",17),e._UZ(99,"input",33),e.YNc(100,ye,2,0,"span",25),e.qZA()()(),e.TgZ(101,"div",21)(102,"div",15)(103,"label",29),e._uU(104,"Ambito Geografico"),e.qZA(),e.TgZ(105,"div",17)(106,"select",34),e.YNc(107,Je,3,4,"option",24),e.qZA(),e.YNc(108,Qe,2,0,"span",25),e.qZA()()(),e.TgZ(109,"div",21)(110,"div",15)(111,"label",29),e._uU(112,"Debilidad"),e.qZA(),e.TgZ(113,"div",17)(114,"select",35),e.YNc(115,Ye,3,4,"option",24),e.qZA(),e.YNc(116,Oe,2,0,"span",25),e.qZA()()()()()()(),e.TgZ(117,"div",12)(118,"label",36),e._uU(119,"Descripcion"),e.qZA(),e.TgZ(120,"div",37),e._UZ(121,"textarea",38),e.YNc(122,Ve,2,0,"span",25),e.qZA()(),e.TgZ(123,"div",12)(124,"label",36),e._uU(125,"Resultado"),e.qZA(),e.TgZ(126,"div",37),e._UZ(127,"textarea",39),e.YNc(128,Le,2,0,"span",25),e.qZA()(),e.TgZ(129,"div",12)(130,"label",36),e._uU(131,"Almacenamiento"),e.qZA(),e.TgZ(132,"div",37),e._UZ(133,"input",40),e.YNc(134,je,2,0,"span",25),e.qZA()(),e.TgZ(135,"div",12)(136,"label",36),e._uU(137,"Unidades y/o Personas Relacionadas a la evidencia"),e.qZA(),e.TgZ(138,"div",37),e._UZ(139,"textarea",41),e.YNc(140,Be,2,0,"span",25),e.qZA()(),e.TgZ(141,"div",12)(142,"label",36),e._uU(143,"Palabra clave"),e.qZA(),e.TgZ(144,"div",37),e._UZ(145,"input",42),e.YNc(146,we,2,0,"span",25),e.qZA()(),e.TgZ(147,"div",12)(148,"label",36),e._uU(149,"Nombre corto evidencia"),e.qZA(),e.TgZ(150,"div",37),e._UZ(151,"input",43),e.YNc(152,Me,2,0,"span",25),e.qZA()(),e.TgZ(153,"div",44)(154,"button",45),e._uU(155,"Enviar"),e.qZA(),e.TgZ(156,"button",46),e.NdJ("click",function(){return r.Volver()}),e._uU(157,"Cancelar"),e.qZA()()()()()()(),e.TgZ(158,"span"),e._uU(159,"VALID"),e.qZA(),e.TgZ(160,"pre"),e._uU(161),e.qZA(),e.TgZ(162,"span"),e._uU(163,"VALUE"),e.qZA(),e.TgZ(164,"pre"),e._uU(165),e.ALo(166,"json"),e.qZA()),2&i&&(e.xp6(21),e.Q6J("formGroup",r.FormularioDirectorEditar),e.xp6(10),e.Oqu(r.obtenerNombreFolio),e.xp6(15),e.Q6J("ngForOf",r.listaUnidad),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_unidad")),e.xp6(7),e.Q6J("ngForOf",r.listatiposRegistros),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_registros")),e.xp6(7),e.Q6J("ngForOf",r.listaAmbitoAcademico),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_ambito_academico")),e.xp6(7),e.Q6J("ngForOf",r.listaCriterio),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_criterios")),e.xp6(5),e.Q6J("ngIf",1==r.estadoEvidencia),e.xp6(1),e.Q6J("ngIf",0==r.estadoEvidencia),e.xp6(15),e.Q6J("ngForOf",r.listaProcesos),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_procesos")),e.xp6(7),e.Q6J("ngIf",r.campoNoEsValido("fk_id_ambito_geografico")),e.xp6(7),e.Q6J("ngForOf",r.listaAmbitoGeografico),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_ambito_geografico")),e.xp6(7),e.Q6J("ngForOf",r.listaDebilidad),e.xp6(1),e.Q6J("ngIf",r.campoNoEsValido("fk_id_debilidades")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("descripcion")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("resultado")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("almacenamiento")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("unidades_personas_evidencias")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("palabra_clave")),e.xp6(6),e.Q6J("ngIf",r.campoNoEsValido("nombre_corto_evidencia")),e.xp6(4),e.Q6J("routerLink",e.DdM(30,Pe)),e.xp6(5),e.Oqu(r.FormularioDirectorEditar.valid),e.xp6(4),e.Oqu(e.lcZ(166,28,r.FormularioDirectorEditar.value)))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.EJ,u.sg,a.YN,a.Kr,u.O5,a.Q7,_.rH],pipes:[u.JJ,u.uU,u.Ts],styles:[".form-control-lg[_ngcontent-%COMP%]{outline:none}"]}),o})();const Ge=["termino"];function $e(o,t){1&o&&(e.TgZ(0,"td",29),e._UZ(1,"i",30)(2,"i",30),e.qZA())}function He(o,t){1&o&&(e.TgZ(0,"td",29),e._UZ(1,"i",31)(2,"i",30),e.qZA())}function ze(o,t){1&o&&(e.TgZ(0,"td",29),e._UZ(1,"i",32)(2,"i",30),e.qZA())}function Ke(o,t){1&o&&(e.TgZ(0,"td",29),e._UZ(1,"i",31)(2,"i",31),e.qZA())}function Xe(o,t){1&o&&(e.TgZ(0,"td",29),e._UZ(1,"i",32)(2,"i",32),e.qZA())}const We=function(o){return["../ver-todas-evidencias",o]};function ei(o,t){if(1&o&&(e.TgZ(0,"tr")(1,"th",26),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,$e,3,0,"td",27),e.YNc(12,He,3,0,"td",27),e.YNc(13,ze,3,0,"td",27),e.YNc(14,Ke,3,0,"td",27),e.YNc(15,Xe,3,0,"td",27),e.TgZ(16,"td"),e._UZ(17,"i",28),e.qZA()()),2&o){const i=t.$implicit;e.xp6(2),e.Oqu(i.numero_folio),e.xp6(2),e.Oqu(i.nombre_procesos),e.xp6(2),e.Oqu(i.nombre_registros),e.xp6(2),e.Oqu(i.nombre_debilidades),e.xp6(2),e.Oqu(i.nombre_criterios),e.xp6(1),e.Q6J("ngIf",0==i.estado_evidencia_responsable&&0==i.estado_evidencia_dac&&0==i.revisado_reponsable&&0==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",1==i.estado_evidencia_responsable&&0==i.estado_evidencia_dac&&1==i.revisado_reponsable&&0==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",2==i.estado_evidencia_responsable&&0==i.estado_evidencia_dac&&1==i.revisado_reponsable&&0==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",1==i.estado_evidencia_responsable&&1==i.estado_evidencia_dac&&1==i.revisado_reponsable&&1==i.revisado_dac),e.xp6(1),e.Q6J("ngIf",1==i.estado_evidencia_responsable&&2==i.estado_evidencia_dac&&1==i.revisado_reponsable&&1==i.revisado_dac),e.xp6(2),e.Q6J("routerLink",e.VKq(11,We,i.id_evidencias))}}let ii=(()=>{class o{constructor(i,r,s){var n;this.directorService=i,this.usuarioService=r,this.fb=s,this.listaEvidencias=[],this.filterPost="",this.sel="",this.FormularioDirector=this.fb.group({estado_select:["",[a.kI.required]]}),null===(n=this.FormularioDirector.get("estado_select"))||void 0===n||n.valueChanges.subscribe(d=>{this.sel=d}),this.usuario=r.usuario}ngOnInit(){this.obtenerEvidencia()}onKeyUp(i){5!==i.length&&9!==i.length||(i=i.concat("-".toString()));let r=this.txtTermino.nativeElement.value=i;this.filterPost=r}obtenerEvidencia(){this.directorService.obtenerEvidencias(this.usuario.fk_id_unidad).subscribe(i=>{console.log("QQQQQQQQQQQQQQQQQQ",this.usuario.fk_id_unidad),this.listaEvidencias=i,this.listaEvidencias.reverse()})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(v),e.Y36(p.r),e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver-todas-evidencias"]],viewQuery:function(i,r){if(1&i&&e.Gf(Ge,5),2&i){let s;e.iGM(s=e.CRH())&&(r.txtTermino=s.first)}},decls:48,vars:9,consts:[[1,"container"],[1,"row","mt-4"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"mb-5","fs-1"],[1,"row","col-11","mb-4"],[1,"col-md-6","mb-2"],["oninput","this.value = this.value.toUpperCase()","type","text","placeholder","Buscar por codigo",1,"fs-5","col-md-9","border-0","border-bottom",3,"keyup"],["termino",""],[1,"col-auto","mt-2"],[1,"fs-6"],[1,"col-auto","mb-1"],[3,"formGroup"],["formControlName","estado_select","name","numero_folio","mat-button","","id","cars","name","cars",1,"estado"],["value",""],[3,"value"],["value","1"],["value","2"],[1,"my-custom-scrollbar"],[1,"table","table-bordered","table-hover"],[1,"s","bg-info"],[1,"text-center"],["scope","col"],[1,"text-center","align-middle"],[4,"ngFor","ngForOf"],["scope","row"],["class","col-12 col-md-2",4,"ngIf"],[1,"cursor-pointer","text-primary","fs-3","fa","fa-solid","fa-eye",3,"routerLink"],[1,"col-12","col-md-2"],[1,"text-dark","me-2","fs-3","fa-solid","fa-question"],[1,"text-success","me-2","fs-3","fa-solid","fa-user-check"],[1,"text-danger","me-2","fs-3","fa-solid","fa-user-xmark"]],template:function(i,r){if(1&i){const s=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),e._uU(6,"Evidencias"),e.qZA(),e.TgZ(7,"div",6)(8,"div",7)(9,"input",8,9),e.NdJ("keyup",function(){e.CHM(s);const d=e.MAs(10);return r.onKeyUp(d.value)}),e.qZA()(),e.TgZ(11,"div",10)(12,"span",11)(13,"strong"),e._uU(14,"Filtro Por Estados: "),e.qZA()()(),e.TgZ(15,"div",12)(16,"form",13)(17,"select",14)(18,"option",15),e._uU(19,"Todos"),e.qZA(),e.TgZ(20,"option",16),e._uU(21,"En Espera"),e.qZA(),e.TgZ(22,"option",17),e._uU(23,"Aprobada"),e.qZA(),e.TgZ(24,"option",18),e._uU(25,"Rechazada"),e.qZA()()()()(),e.TgZ(26,"div",19)(27,"table",20)(28,"thead",21)(29,"tr",22)(30,"th",23),e._uU(31,"Codigo"),e.qZA(),e.TgZ(32,"th",23),e._uU(33,"Proceso"),e.qZA(),e.TgZ(34,"th",23),e._uU(35,"Tipo Registro"),e.qZA(),e.TgZ(36,"th",23),e._uU(37,"Debilidad"),e.qZA(),e.TgZ(38,"th",23),e._uU(39,"Criterio"),e.qZA(),e.TgZ(40,"th",23),e._uU(41,"Estado"),e.qZA(),e.TgZ(42,"th",23),e._uU(43,"Acci\xf3n"),e.qZA()()(),e.TgZ(44,"tbody",24),e.YNc(45,ei,18,13,"tr",25),e.ALo(46,"filterState"),e.ALo(47,"select"),e.qZA()()()()()()()()}2&i&&(e.xp6(16),e.Q6J("formGroup",r.FormularioDirector),e.xp6(4),e.Q6J("value",0),e.xp6(25),e.Q6J("ngForOf",e.xi3(46,3,e.xi3(47,6,r.listaEvidencias,r.sel),r.filterPost)))},directives:[a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,a.YN,a.Kr,u.sg,u.O5,_.rH],pipes:[E.H,C.z],styles:[".my-custom-scrollbar[_ngcontent-%COMP%]{position:relative;height:350px;overflow:auto}.s[_ngcontent-%COMP%]{position:sticky;top:0}.estado[_ngcontent-%COMP%]{width:150px;height:30px}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#000}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}@media screen and (max-width: 800px){.w-input[_ngcontent-%COMP%]{width:100px}}"]}),o})();var oi=c(442),ri=c(5042),ti=c(508),g=c(7322),f=c(6856),ai=c(9257);const ni=[{path:"",component:F,children:[{path:"home",component:N},{path:"crear-evidencia",component:Z},{path:"ver-todas-evidencias/:id/:id2",component:Z},{path:"crear-evidencia-editar/:id/:id2",component:Re},{path:"mis-evidencias",component:G},{path:"todas-evidencias",component:ii},{path:"ver-mis-evidencias/:id/:id2",component:Z},{path:"mi-perfil",component:oi.f},{path:"graficos",component:(()=>{class o{constructor(i,r,s,n){this.usuarioService=i,this.fb=r,this.graficosUsuarioNormal=s,this.dateAdapter=n,this.barChartData={labels:[""],datasets:[{data:[],label:""}]},this.pieChartData={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData2={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData3={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData4={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pieChartData5={labels:[],datasets:[{data:[],backgroundColor:[]}]},this.pipe=new u.uU("en-US"),this.start1="",this.end1="",this.dateStart="",this.dateEnd="",this.FormularioUsuarioNormal=this.fb.group({start:[,[a.kI.required]],end:[,[a.kI.required]]}),this.usuario=i.usuario}ngOnInit(){}formatDate(){this.start1=this.FormularioUsuarioNormal.value.start,this.end1=this.FormularioUsuarioNormal.value.end,this.dateStart=this.pipe.transform(this.start1,"dd-MM-yyyy"),this.dateEnd=this.pipe.transform(this.end1,"dd-MM-yyyy")}pieChartDataUser(){this.formatDate(),this.graficosUsuarioNormal.obtenerCantidadEvidenciasGraficos(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(i=>{i=i.resultado[0].cantevidencias,this.barChartData={labels:[`RANGO FECHA:  DESDE ${this.dateStart} HASTA ${this.dateEnd}`],datasets:[{data:Object.values(i),label:` ${i} EVIDENCIAS CREADAS`,backgroundColor:["#0B6CE6","#0800F5"],hoverBackgroundColor:"#3007E0"}]}}),console.log(this.dateStart,"sswws",this.dateEnd),this.graficosUsuarioNormal.obtenerCantidadEvidenciasGraficosUnidades(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(i=>{let s,n,r=0,d=[],l=[];for(;r<i.resultado.length;r++)s=i.resultado[r],n=s.cantevidenciasunidad,s=s.nombre_unidad,d.push(s),l.push(n),console.log(l,"sswws",d),this.pieChartData={labels:d,datasets:[{data:l,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosUsuarioNormal.obtenerCantidadEvidenciasGraficosTiposRegistros(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(i=>{let s,n,r=0,d=[],l=[];for(;r<i.resultado.length;r++)s=i.resultado[r],n=s.cantevidenciasregistros,s=s.nombre_registros,d.push(s),l.push(n),console.log(l,"sswws",d),this.pieChartData2={labels:d,datasets:[{data:l,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosUsuarioNormal.obtenerCantidadEvidenciasGraficosDebilidades(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(i=>{let s,n,r=0,d=[],l=[];for(;r<i.resultado.length;r++)s=i.resultado[r],n=s.cantevidenciasdebilidades,s=s.nombre_debilidades,d.push(s),l.push(n),console.log(l,"sswws",d),this.pieChartData3={labels:d,datasets:[{data:l,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosUsuarioNormal.obtenerCantidadEvidenciasGraficosCriterios(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(i=>{let s,n,r=0,d=[],l=[];for(;r<i.resultado.length;r++)s=i.resultado[r],n=s.cantevidenciascriterios,s=s.nombre_criterios,d.push(s),l.push(n),console.log(l,"sswws",d),this.pieChartData4={labels:d,datasets:[{data:l,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}}),this.graficosUsuarioNormal.obtenerCantidadEvidenciasGraficosAmbitoAcademico(this.usuario.rut,this.dateStart,this.dateEnd).subscribe(i=>{let s,n,r=0,d=[],l=[];for(;r<i.resultado.length;r++)s=i.resultado[r],n=s.cantevidenciasambitoacademico,s=s.nombre_ambito_academico,d.push(s),l.push(n),console.log(l,"sswws",d),this.pieChartData5={labels:d,datasets:[{data:l,backgroundColor:["#08FAE9","#13ABF5","#076CE0"],hoverBackgroundColor:["#0B9BDE","#0B48E0","#0D20FA"]}]}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(p.r),e.Y36(a.qu),e.Y36(ri.T),e.Y36(ti._A))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-graficos"]],decls:51,vars:14,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],[1,"bg-light","col-10","mx-auto"],[1,"card"],[1,"card-body"],[1,"container"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],["src","./assets/img/ucm-logo1.jpeg","alt","UCM",1,"col-4","mb-3"],[1,"text-center","fs-2"],[1,"text-center","fs-5","mb-5"],[1,"container","px-1","px-sm-5","mx-auto","mb-5"],[1,"flex-row","d-flex","justify-content-center"],[1,"col-lg-6","col-11","px-1"],[1,"input-group","input-daterange"],[1,"col-sm-4"],["appearance","fill"],[3,"rangePicker"],["matStartDate","","formControlName","start","placeholder","Fecha de inicio"],["matEndDate","","formControlName","end","placeholder","Fecha final"],["matSuffix","",3,"for"],["picker",""],[1,"container","mb-5"],[1,"bg-light","col-12","mx-auto","mb-3"],[1,"d-grid","gap-2"],["type","submit","data-bs-toggle","collapse","data-bs-target","#collapseExample","aria-expanded","false","aria-controls","collapseExample",1,"btn","btn-outline-secondary",3,"disabled"],["id","collapseExample",1,"collapse"],[1,"card","card-body"],[2,"display","block"],[3,"barChartData","pieChartData","pieChartData2","pieChartData3","pieChartData4","pieChartData5"]],template:function(i,r){if(1&i&&(e.TgZ(0,"html",0)(1,"head"),e._UZ(2,"meta",1),e.TgZ(3,"title"),e._uU(4,"Hola mundo con Javascript - victor robles"),e.qZA(),e._UZ(5,"meta",2),e.qZA(),e.TgZ(6,"body",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"form",7),e.NdJ("ngSubmit",function(){return r.pieChartDataUser()}),e.TgZ(11,"div",8),e._UZ(12,"img",9),e.TgZ(13,"h3",10),e._uU(14,"Universidad Catolica del Maule"),e.qZA(),e.TgZ(15,"h6",11),e._uU(16,"Estadisticas y Graficos"),e.qZA()(),e.TgZ(17,"div",12)(18,"section",6)(19,"div",13)(20,"div",14)(21,"div",15)(22,"div",16)(23,"mat-form-field",17)(24,"mat-label"),e._uU(25,"Seleccione el rango de fecha"),e.qZA(),e.TgZ(26,"mat-date-range-input",18),e._UZ(27,"input",19)(28,"input",20),e.qZA(),e.TgZ(29,"mat-hint"),e._uU(30,"MM/DD/YYYY \u2013 MM/DD/YYYY"),e.qZA(),e._UZ(31,"mat-datepicker-toggle",21)(32,"mat-date-range-picker",null,22),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.ALo(36,"json"),e.qZA(),e.TgZ(37,"p"),e._uU(38,"valid"),e.qZA(),e.TgZ(39,"p"),e._uU(40),e.qZA()()()()()()(),e.TgZ(41,"div",23)(42,"body",24)(43,"div",25)(44,"button",26),e._uU(45," Evidencias Encontradas en el rango de fechas "),e.qZA()(),e.TgZ(46,"div",27)(47,"div",28)(48,"div",8)(49,"div",29),e._UZ(50,"app-graficos-gloval",30),e.qZA()()()()()()()()()()()()),2&i){const s=e.MAs(33);e.xp6(10),e.Q6J("formGroup",r.FormularioUsuarioNormal),e.xp6(16),e.Q6J("rangePicker",s),e.xp6(5),e.Q6J("for",s),e.xp6(4),e.hij("Selected range: ",e.lcZ(36,12,r.FormularioUsuarioNormal.value),""),e.xp6(5),e.hij("Selected range: ",r.FormularioUsuarioNormal.valid,""),e.xp6(4),e.Q6J("disabled",r.FormularioUsuarioNormal.invalid),e.xp6(6),e.Q6J("barChartData",r.barChartData)("pieChartData",r.pieChartData)("pieChartData2",r.pieChartData2)("pieChartData3",r.pieChartData3)("pieChartData4",r.pieChartData4)("pieChartData5",r.pieChartData5)}},directives:[a._Y,a.JL,a.sg,g.KE,g.hX,f.wx,f.zY,a.Fj,a.JJ,a.u,f.By,g.bx,f.nW,g.R9,f._g,ai.l],pipes:[u.Ts],styles:[""]}),o})()},{path:"**",redirectTo:"home"}]}];let di=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[_.Bz.forChild(ni)],_.Bz]}),o})();var ci=c(443),T=c(7958),li=c(3423),ui=c(4679),mi=c(1210);let _i=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({providers:[u.uU],imports:[[u.ez,di,ci.R,a.UX,T.c,li.d,T.c,ui.w,mi.h]]}),o})()}}]);